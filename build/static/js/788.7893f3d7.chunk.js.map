{"version":3,"file":"static/js/788.7893f3d7.chunk.js","mappings":"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","sources":["components/CustomizationModal/CustomizationModal.jsx"],"sourcesContent":["// src/components/CustomizationModal/CustomizationModal.jsx\nimport React, { useState, useContext, useEffect } from 'react';\nimport { X, Plus, Minus, Info, Check } from 'lucide-react';\nimport { CartContext } from '../../context/CartContext';\nimport './CustomizationModal.css';\n\nconst CustomizationModal = ({ product, isOpen, onClose }) => {\n  const { addToCart } = useContext(CartContext);\n  const [selectedSize, setSelectedSize] = useState(null);\n  const [selectedIngredients, setSelectedIngredients] = useState([]);\n  const [removedIngredients, setRemovedIngredients] = useState([]);\n  const [extraIngredients, setExtraIngredients] = useState([]);\n  const [quantity, setQuantity] = useState(1);\n  const [specialInstructions, setSpecialInstructions] = useState('');\n  const [totalPrice, setTotalPrice] = useState(0);\n\n  // Configuración de ejemplo - esto vendría de WooCommerce\n  const sizes = [\n    { id: 'personal', name: 'Personal', price: 0 },\n    { id: 'mediana', name: 'Mediana', price: 2000 },\n    { id: 'familiar', name: 'Familiar', price: 4000 },\n    { id: 'gigante', name: 'Gigante', price: 6000 }\n  ];\n\n  const availableIngredients = [\n    { id: 'queso', name: 'Queso Extra', price: 1500 },\n    { id: 'pepperoni', name: 'Pepperoni', price: 2000 },\n    { id: 'champinones', name: 'Champiñones', price: 1500 },\n    { id: 'jamon', name: 'Jamón', price: 1800 },\n    { id: 'pina', name: 'Piña', price: 1500 },\n    { id: 'aceituna', name: 'Aceitunas', price: 1200 },\n    { id: 'cebolla', name: 'Cebolla', price: 1000 },\n    { id: 'pimenton', name: 'Pimentón', price: 1200 }\n  ];\n\n  const defaultIngredients = ['queso', 'salsa', 'oregano'];\n\n  useEffect(() => {\n    if (product && sizes.length > 0) {\n      setSelectedSize(sizes[0]);\n    }\n  }, [product]);\n\n  useEffect(() => {\n    calculateTotal();\n  }, [selectedSize, extraIngredients, quantity]);\n\n  const calculateTotal = () => {\n    if (!product || !selectedSize) return;\n    \n    let basePrice = parseFloat(product.price);\n    let sizePrice = selectedSize.price;\n    let extrasPrice = extraIngredients.reduce((sum, extra) => sum + extra.price, 0);\n    \n    setTotalPrice((basePrice + sizePrice + extrasPrice) * quantity);\n  };\n\n  const formatPrice = (price) => {\n    return new Intl.NumberFormat('es-CL', {\n      style: 'currency',\n      currency: 'CLP',\n      minimumFractionDigits: 0,\n      maximumFractionDigits: 0,\n    }).format(price);\n  };\n\n  const handleIngredientToggle = (ingredient) => {\n    if (extraIngredients.find(item => item.id === ingredient.id)) {\n      setExtraIngredients(extraIngredients.filter(item => item.id !== ingredient.id));\n    } else {\n      setExtraIngredients([...extraIngredients, ingredient]);\n    }\n  };\n\n  const handleRemoveIngredient = (ingredientId) => {\n    if (removedIngredients.includes(ingredientId)) {\n      setRemovedIngredients(removedIngredients.filter(id => id !== ingredientId));\n    } else {\n      setRemovedIngredients([...removedIngredients, ingredientId]);\n    }\n  };\n\n  const handleAddToCart = () => {\n    const customizations = {\n      size: selectedSize,\n      extraIngredients,\n      removedIngredients,\n      specialInstructions\n    };\n\n    addToCart({\n      id: `${product.id}-${Date.now()}`,\n      productId: product.id,\n      name: product.name,\n      price: totalPrice / quantity,\n      image: product.images?.[0]?.src || null,\n      quantity,\n      customizations\n    });\n\n    onClose();\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"customization-modal-overlay\" onClick={onClose}>\n      <div className=\"customization-modal\" onClick={(e) => e.stopPropagation()}>\n        <div className=\"customization-header\">\n          <h2>Personaliza tu {product.name}</h2>\n          <button className=\"customization-close\" onClick={onClose}>\n            <X size={24} />\n          </button>\n        </div>\n\n        <div className=\"customization-content\">\n          {/* Imagen y descripción */}\n          <div className=\"customization-product-info\">\n            {product.images?.[0]?.src && (\n              <img \n                src={product.images[0].src} \n                alt={product.name}\n                className=\"customization-product-image\"\n              />\n            )}\n            <div>\n              <h3>{product.name}</h3>\n              {product.short_description && (\n                <p dangerouslySetInnerHTML={{ __html: product.short_description }} />\n              )}\n            </div>\n          </div>\n\n          {/* Selección de tamaño */}\n          <div className=\"customization-section\">\n            <h4>Elige el tamaño</h4>\n            <div className=\"size-options\">\n              {sizes.map(size => (\n                <label key={size.id} className=\"size-option\">\n                  <input\n                    type=\"radio\"\n                    name=\"size\"\n                    value={size.id}\n                    checked={selectedSize?.id === size.id}\n                    onChange={() => setSelectedSize(size)}\n                  />\n                  <div className=\"size-option-content\">\n                    <span className=\"size-name\">{size.name}</span>\n                    {size.price > 0 && (\n                      <span className=\"size-price\">+{formatPrice(size.price)}</span>\n                    )}\n                  </div>\n                </label>\n              ))}\n            </div>\n          </div>\n\n          {/* Ingredientes por defecto */}\n          <div className=\"customization-section\">\n            <h4>Ingredientes incluidos</h4>\n            <p className=\"section-description\">Puedes quitar los que no desees</p>\n            <div className=\"default-ingredients\">\n              {defaultIngredients.map(ingredient => (\n                <div \n                  key={ingredient}\n                  className={`ingredient-chip ${removedIngredients.includes(ingredient) ? 'removed' : ''}`}\n                  onClick={() => handleRemoveIngredient(ingredient)}\n                >\n                  <span>{ingredient}</span>\n                  {removedIngredients.includes(ingredient) ? <Plus size={16} /> : <X size={16} />}\n                </div>\n              ))}\n            </div>\n          </div>\n\n          {/* Ingredientes extra */}\n          <div className=\"customization-section\">\n            <h4>Agrega ingredientes extra</h4>\n            <div className=\"extra-ingredients\">\n              {availableIngredients.map(ingredient => (\n                <label key={ingredient.id} className=\"ingredient-option\">\n                  <input\n                    type=\"checkbox\"\n                    checked={extraIngredients.some(item => item.id === ingredient.id)}\n                    onChange={() => handleIngredientToggle(ingredient)}\n                  />\n                  <div className=\"ingredient-option-content\">\n                    <span className=\"ingredient-name\">{ingredient.name}</span>\n                    <span className=\"ingredient-price\">+{formatPrice(ingredient.price)}</span>\n                  </div>\n                  <div className=\"ingredient-checkbox\">\n                    {extraIngredients.some(item => item.id === ingredient.id) && <Check size={16} />}\n                  </div>\n                </label>\n              ))}\n            </div>\n          </div>\n\n          {/* Instrucciones especiales */}\n          <div className=\"customization-section\">\n            <h4>Instrucciones especiales (opcional)</h4>\n            <textarea\n              placeholder=\"Ej: Sin cebolla, poco cocida, extra crujiente...\"\n              value={specialInstructions}\n              onChange={(e) => setSpecialInstructions(e.target.value)}\n              className=\"special-instructions\"\n              rows={3}\n            />\n          </div>\n\n          {/* Cantidad */}\n          <div className=\"customization-section\">\n            <h4>Cantidad</h4>\n            <div className=\"quantity-selector\">\n              <button \n                onClick={() => setQuantity(Math.max(1, quantity - 1))}\n                className=\"quantity-btn\"\n              >\n                <Minus size={20} />\n              </button>\n              <span className=\"quantity-value\">{quantity}</span>\n              <button \n                onClick={() => setQuantity(quantity + 1)}\n                className=\"quantity-btn\"\n              >\n                <Plus size={20} />\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"customization-footer\">\n          <div className=\"total-info\">\n            <span>Total:</span>\n            <span className=\"total-price\">{formatPrice(totalPrice)}</span>\n          </div>\n          <button \n            className=\"btn btn-primary add-to-cart-btn\"\n            onClick={handleAddToCart}\n          >\n            Agregar al carrito\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CustomizationModal;"],"names":["_ref","_product$images2","_product$images2$","product","isOpen","onClose","addToCart","useContext","CartContext","selectedSize","setSelectedSize","useState","selectedIngredients","setSelectedIngredients","removedIngredients","setRemovedIngredients","extraIngredients","setExtraIngredients","quantity","setQuantity","specialInstructions","setSpecialInstructions","totalPrice","setTotalPrice","sizes","id","name","price","useEffect","length","calculateTotal","basePrice","parseFloat","sizePrice","extrasPrice","reduce","sum","extra","formatPrice","Intl","NumberFormat","style","currency","minimumFractionDigits","maximumFractionDigits","format","_jsx","className","onClick","children","_jsxs","e","stopPropagation","X","size","images","src","alt","short_description","dangerouslySetInnerHTML","__html","map","type","value","checked","onChange","ingredient","includes","handleRemoveIngredient","ingredientId","filter","Plus","some","item","find","handleIngredientToggle","Check","placeholder","target","rows","Math","max","Minus","handleAddToCart","_product$images","_product$images$","customizations","Date","now","productId","image"],"sourceRoot":""}