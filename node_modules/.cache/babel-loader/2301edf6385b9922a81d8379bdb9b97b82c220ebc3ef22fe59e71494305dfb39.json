{"ast":null,"code":"// src/context/CartContext.jsx\nimport React,{createContext,useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";export const CartContext=/*#__PURE__*/createContext();export const CartProvider=_ref=>{let{children}=_ref;const[cart,setCart]=useState(()=>{const savedCart=localStorage.getItem('escandalosos_cart');return savedCart?JSON.parse(savedCart):[];});useEffect(()=>{localStorage.setItem('escandalosos_cart',JSON.stringify(cart));},[cart]);const addToCart=function(product){let quantity=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;setCart(prevCart=>{var _product$images,_product$images$;const existingItem=prevCart.find(item=>item.id===product.id);if(existingItem){return prevCart.map(item=>item.id===product.id?{...item,quantity:item.quantity+quantity}:item);}return[...prevCart,{id:product.id,name:product.name,price:parseFloat(product.price),image:((_product$images=product.images)===null||_product$images===void 0?void 0:(_product$images$=_product$images[0])===null||_product$images$===void 0?void 0:_product$images$.src)||'',quantity}];});};const updateQuantity=(productId,quantity)=>{if(quantity<=0){removeFromCart(productId);return;}setCart(prevCart=>prevCart.map(item=>item.id===productId?{...item,quantity}:item));};const removeFromCart=productId=>{setCart(prevCart=>prevCart.filter(item=>item.id!==productId));};const clearCart=()=>{setCart([]);};const getCartTotal=()=>{return cart.reduce((total,item)=>total+item.price*item.quantity,0);};const getItemCount=()=>{return cart.reduce((total,item)=>total+item.quantity,0);};const value={cart,addToCart,updateQuantity,removeFromCart,clearCart,getCartTotal,getItemCount};return/*#__PURE__*/_jsx(CartContext.Provider,{value:value,children:children});};","map":{"version":3,"names":["React","createContext","useState","useEffect","jsx","_jsx","CartContext","CartProvider","_ref","children","cart","setCart","savedCart","localStorage","getItem","JSON","parse","setItem","stringify","addToCart","product","quantity","arguments","length","undefined","prevCart","_product$images","_product$images$","existingItem","find","item","id","map","name","price","parseFloat","image","images","src","updateQuantity","productId","removeFromCart","filter","clearCart","getCartTotal","reduce","total","getItemCount","value","Provider"],"sources":["/Users/franciscalabra/Desktop/pizzeria-escandalosos/src/context/CartContext.jsx"],"sourcesContent":["// src/context/CartContext.jsx\nimport React, { createContext, useState, useEffect } from 'react';\n\nexport const CartContext = createContext();\n\nexport const CartProvider = ({ children }) => {\n  const [cart, setCart] = useState(() => {\n    const savedCart = localStorage.getItem('escandalosos_cart');\n    return savedCart ? JSON.parse(savedCart) : [];\n  });\n\n  useEffect(() => {\n    localStorage.setItem('escandalosos_cart', JSON.stringify(cart));\n  }, [cart]);\n\n  const addToCart = (product, quantity = 1) => {\n    setCart(prevCart => {\n      const existingItem = prevCart.find(item => item.id === product.id);\n      \n      if (existingItem) {\n        return prevCart.map(item =>\n          item.id === product.id\n            ? { ...item, quantity: item.quantity + quantity }\n            : item\n        );\n      }\n      \n      return [...prevCart, {\n        id: product.id,\n        name: product.name,\n        price: parseFloat(product.price),\n        image: product.images?.[0]?.src || '',\n        quantity\n      }];\n    });\n  };\n\n  const updateQuantity = (productId, quantity) => {\n    if (quantity <= 0) {\n      removeFromCart(productId);\n      return;\n    }\n    \n    setCart(prevCart =>\n      prevCart.map(item =>\n        item.id === productId ? { ...item, quantity } : item\n      )\n    );\n  };\n\n  const removeFromCart = (productId) => {\n    setCart(prevCart => prevCart.filter(item => item.id !== productId));\n  };\n\n  const clearCart = () => {\n    setCart([]);\n  };\n\n  const getCartTotal = () => {\n    return cart.reduce((total, item) => total + (item.price * item.quantity), 0);\n  };\n\n  const getItemCount = () => {\n    return cart.reduce((total, item) => total + item.quantity, 0);\n  };\n\n  const value = {\n    cart,\n    addToCart,\n    updateQuantity,\n    removeFromCart,\n    clearCart,\n    getCartTotal,\n    getItemCount\n  };\n\n  return (\n    <CartContext.Provider value={value}>\n      {children}\n    </CartContext.Provider>\n  );\n};"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAElE,MAAO,MAAM,CAAAC,WAAW,cAAGL,aAAa,CAAC,CAAC,CAE1C,MAAO,MAAM,CAAAM,YAAY,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CACvC,KAAM,CAACE,IAAI,CAAEC,OAAO,CAAC,CAAGT,QAAQ,CAAC,IAAM,CACrC,KAAM,CAAAU,SAAS,CAAGC,YAAY,CAACC,OAAO,CAAC,mBAAmB,CAAC,CAC3D,MAAO,CAAAF,SAAS,CAAGG,IAAI,CAACC,KAAK,CAACJ,SAAS,CAAC,CAAG,EAAE,CAC/C,CAAC,CAAC,CAEFT,SAAS,CAAC,IAAM,CACdU,YAAY,CAACI,OAAO,CAAC,mBAAmB,CAAEF,IAAI,CAACG,SAAS,CAACR,IAAI,CAAC,CAAC,CACjE,CAAC,CAAE,CAACA,IAAI,CAAC,CAAC,CAEV,KAAM,CAAAS,SAAS,CAAG,QAAAA,CAACC,OAAO,CAAmB,IAAjB,CAAAC,QAAQ,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAC,CACtCX,OAAO,CAACc,QAAQ,EAAI,KAAAC,eAAA,CAAAC,gBAAA,CAClB,KAAM,CAAAC,YAAY,CAAGH,QAAQ,CAACI,IAAI,CAACC,IAAI,EAAIA,IAAI,CAACC,EAAE,GAAKX,OAAO,CAACW,EAAE,CAAC,CAElE,GAAIH,YAAY,CAAE,CAChB,MAAO,CAAAH,QAAQ,CAACO,GAAG,CAACF,IAAI,EACtBA,IAAI,CAACC,EAAE,GAAKX,OAAO,CAACW,EAAE,CAClB,CAAE,GAAGD,IAAI,CAAET,QAAQ,CAAES,IAAI,CAACT,QAAQ,CAAGA,QAAS,CAAC,CAC/CS,IACN,CAAC,CACH,CAEA,MAAO,CAAC,GAAGL,QAAQ,CAAE,CACnBM,EAAE,CAAEX,OAAO,CAACW,EAAE,CACdE,IAAI,CAAEb,OAAO,CAACa,IAAI,CAClBC,KAAK,CAAEC,UAAU,CAACf,OAAO,CAACc,KAAK,CAAC,CAChCE,KAAK,CAAE,EAAAV,eAAA,CAAAN,OAAO,CAACiB,MAAM,UAAAX,eAAA,kBAAAC,gBAAA,CAAdD,eAAA,CAAiB,CAAC,CAAC,UAAAC,gBAAA,iBAAnBA,gBAAA,CAAqBW,GAAG,GAAI,EAAE,CACrCjB,QACF,CAAC,CAAC,CACJ,CAAC,CAAC,CACJ,CAAC,CAED,KAAM,CAAAkB,cAAc,CAAGA,CAACC,SAAS,CAAEnB,QAAQ,GAAK,CAC9C,GAAIA,QAAQ,EAAI,CAAC,CAAE,CACjBoB,cAAc,CAACD,SAAS,CAAC,CACzB,OACF,CAEA7B,OAAO,CAACc,QAAQ,EACdA,QAAQ,CAACO,GAAG,CAACF,IAAI,EACfA,IAAI,CAACC,EAAE,GAAKS,SAAS,CAAG,CAAE,GAAGV,IAAI,CAAET,QAAS,CAAC,CAAGS,IAClD,CACF,CAAC,CACH,CAAC,CAED,KAAM,CAAAW,cAAc,CAAID,SAAS,EAAK,CACpC7B,OAAO,CAACc,QAAQ,EAAIA,QAAQ,CAACiB,MAAM,CAACZ,IAAI,EAAIA,IAAI,CAACC,EAAE,GAAKS,SAAS,CAAC,CAAC,CACrE,CAAC,CAED,KAAM,CAAAG,SAAS,CAAGA,CAAA,GAAM,CACtBhC,OAAO,CAAC,EAAE,CAAC,CACb,CAAC,CAED,KAAM,CAAAiC,YAAY,CAAGA,CAAA,GAAM,CACzB,MAAO,CAAAlC,IAAI,CAACmC,MAAM,CAAC,CAACC,KAAK,CAAEhB,IAAI,GAAKgB,KAAK,CAAIhB,IAAI,CAACI,KAAK,CAAGJ,IAAI,CAACT,QAAS,CAAE,CAAC,CAAC,CAC9E,CAAC,CAED,KAAM,CAAA0B,YAAY,CAAGA,CAAA,GAAM,CACzB,MAAO,CAAArC,IAAI,CAACmC,MAAM,CAAC,CAACC,KAAK,CAAEhB,IAAI,GAAKgB,KAAK,CAAGhB,IAAI,CAACT,QAAQ,CAAE,CAAC,CAAC,CAC/D,CAAC,CAED,KAAM,CAAA2B,KAAK,CAAG,CACZtC,IAAI,CACJS,SAAS,CACToB,cAAc,CACdE,cAAc,CACdE,SAAS,CACTC,YAAY,CACZG,YACF,CAAC,CAED,mBACE1C,IAAA,CAACC,WAAW,CAAC2C,QAAQ,EAACD,KAAK,CAAEA,KAAM,CAAAvC,QAAA,CAChCA,QAAQ,CACW,CAAC,CAE3B,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}