{"ast":null,"code":"// src/components/ProductCard/ProductCard.jsx\nimport React,{useContext,useState}from'react';import{Plus,Check,ShoppingBag}from'lucide-react';import{CartContext}from'../../context/CartContext';import'./ProductCard.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ProductCard=_ref=>{let{product}=_ref;const{addToCart}=useContext(CartContext);const[isAdded,setIsAdded]=useState(false);const handleAddToCart=()=>{addToCart(product);setIsAdded(true);setTimeout(()=>setIsAdded(false),2000);};const formatPrice=price=>{return new Intl.NumberFormat('es-CL',{style:'currency',currency:'CLP'}).format(price);};// Extract plain text from HTML description\nconst getPlainDescription=html=>{const temp=document.createElement('div');temp.innerHTML=html;return temp.textContent||temp.innerText||'';};return/*#__PURE__*/_jsxs(\"article\",{className:\"product-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"product-image-container\",children:[product.images&&product.images.length>0?/*#__PURE__*/_jsx(\"img\",{src:product.images[0].src,alt:product.name,className:\"product-image\",loading:\"lazy\"}):/*#__PURE__*/_jsx(\"div\",{className:\"product-image-placeholder\",children:/*#__PURE__*/_jsx(ShoppingBag,{size:48})}),product.on_sale&&/*#__PURE__*/_jsx(\"span\",{className:\"product-badge\",children:\"Oferta\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-content\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"product-title\",children:product.name}),/*#__PURE__*/_jsx(\"p\",{className:\"product-description\",children:getPlainDescription(product.short_description||product.description||'Pizza artesanal con ingredientes premium')}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-footer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"product-price\",children:[product.on_sale&&product.regular_price&&/*#__PURE__*/_jsx(\"span\",{className:\"price-regular\",children:formatPrice(product.regular_price)}),/*#__PURE__*/_jsx(\"span\",{className:\"price-current\",children:formatPrice(product.price)})]}),/*#__PURE__*/_jsx(\"button\",{className:`add-to-cart-btn ${isAdded?'added':''}`,onClick:handleAddToCart,disabled:isAdded,children:isAdded?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Check,{size:20}),/*#__PURE__*/_jsx(\"span\",{children:\"Agregado\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Plus,{size:20}),/*#__PURE__*/_jsx(\"span\",{children:\"Agregar\"})]})})]})]})]});};export default ProductCard;","map":{"version":3,"names":["React","useContext","useState","Plus","Check","ShoppingBag","CartContext","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ProductCard","_ref","product","addToCart","isAdded","setIsAdded","handleAddToCart","setTimeout","formatPrice","price","Intl","NumberFormat","style","currency","format","getPlainDescription","html","temp","document","createElement","innerHTML","textContent","innerText","className","children","images","length","src","alt","name","loading","size","on_sale","short_description","description","regular_price","onClick","disabled"],"sources":["/Users/franciscalabra/Desktop/pizzeria-escandalosos/src/components/ProductCard/ProductCard.jsx"],"sourcesContent":["// src/components/ProductCard/ProductCard.jsx\nimport React, { useContext, useState } from 'react';\nimport { Plus, Check, ShoppingBag } from 'lucide-react';\nimport { CartContext } from '../../context/CartContext';\nimport './ProductCard.css';\n\nconst ProductCard = ({ product }) => {\n  const { addToCart } = useContext(CartContext);\n  const [isAdded, setIsAdded] = useState(false);\n\n  const handleAddToCart = () => {\n    addToCart(product);\n    setIsAdded(true);\n    setTimeout(() => setIsAdded(false), 2000);\n  };\n\n  const formatPrice = (price) => {\n    return new Intl.NumberFormat('es-CL', {\n      style: 'currency',\n      currency: 'CLP'\n    }).format(price);\n  };\n\n  // Extract plain text from HTML description\n  const getPlainDescription = (html) => {\n    const temp = document.createElement('div');\n    temp.innerHTML = html;\n    return temp.textContent || temp.innerText || '';\n  };\n\n  return (\n    <article className=\"product-card\">\n      <div className=\"product-image-container\">\n        {product.images && product.images.length > 0 ? (\n          <img\n            src={product.images[0].src}\n            alt={product.name}\n            className=\"product-image\"\n            loading=\"lazy\"\n          />\n        ) : (\n          <div className=\"product-image-placeholder\">\n            <ShoppingBag size={48} />\n          </div>\n        )}\n        {product.on_sale && (\n          <span className=\"product-badge\">Oferta</span>\n        )}\n      </div>\n      \n      <div className=\"product-content\">\n        <h3 className=\"product-title\">{product.name}</h3>\n        \n        <p className=\"product-description\">\n          {getPlainDescription(product.short_description || product.description || 'Pizza artesanal con ingredientes premium')}\n        </p>\n        \n        <div className=\"product-footer\">\n          <div className=\"product-price\">\n            {product.on_sale && product.regular_price && (\n              <span className=\"price-regular\">{formatPrice(product.regular_price)}</span>\n            )}\n            <span className=\"price-current\">{formatPrice(product.price)}</span>\n          </div>\n          \n          <button \n            className={`add-to-cart-btn ${isAdded ? 'added' : ''}`}\n            onClick={handleAddToCart}\n            disabled={isAdded}\n          >\n            {isAdded ? (\n              <>\n                <Check size={20} />\n                <span>Agregado</span>\n              </>\n            ) : (\n              <>\n                <Plus size={20} />\n                <span>Agregar</span>\n              </>\n            )}\n          </button>\n        </div>\n      </div>\n    </article>\n  );\n};\n\nexport default ProductCard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}