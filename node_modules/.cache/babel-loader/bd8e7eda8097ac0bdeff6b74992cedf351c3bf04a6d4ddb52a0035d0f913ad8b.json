{"ast":null,"code":"// src/components/CustomizationModal/CustomizationModal.jsx\nimport React,{useState,useContext,useEffect}from'react';import{X,Plus,Minus,Info,Check,Loader}from'lucide-react';import{CartContext}from'../../context/CartContext';import woocommerceApi from'../../services/woocommerceApi';import'./CustomizationModal.css';import{jsxs as _jsxs,jsx as _jsx,Fragment as _Fragment}from\"react/jsx-runtime\";const CustomizationModal=_ref=>{var _product$images2,_product$images2$;let{product,isOpen,onClose}=_ref;const{addToCart}=useContext(CartContext);// Estados para datos de WooCommerce\nconst[variations,setVariations]=useState([]);const[attributes,setAttributes]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);// Estados de selección\nconst[selectedAttributes,setSelectedAttributes]=useState({});const[selectedVariation,setSelectedVariation]=useState(null);const[quantity,setQuantity]=useState(1);const[specialInstructions,setSpecialInstructions]=useState('');const[totalPrice,setTotalPrice]=useState(0);// Cargar variaciones y atributos cuando se abre el modal\nuseEffect(()=>{if(isOpen&&product){loadProductData();}},[isOpen,product]);// Actualizar precio cuando cambia la selección\nuseEffect(()=>{updatePrice();},[selectedVariation,quantity]);const loadProductData=async()=>{setLoading(true);setError(null);try{// Si es un producto variable, cargar variaciones\nif(product.type==='variable'){const variationsData=await woocommerceApi.getProductVariations(product.id);setVariations(variationsData);// Extraer atributos del producto\nif(product.attributes){setAttributes(product.attributes.filter(attr=>attr.variation));}}}catch(err){console.error('Error loading product data:',err);setError('Error al cargar las opciones del producto');}finally{setLoading(false);}};const handleAttributeChange=(attributeName,value)=>{const newAttributes={...selectedAttributes,[attributeName]:value};setSelectedAttributes(newAttributes);// Buscar variación que coincida con los atributos seleccionados\nfindMatchingVariation(newAttributes);};const findMatchingVariation=attributes=>{if(!variations.length)return;const matching=variations.find(variation=>{return variation.attributes.every(attr=>{return attributes[attr.name]===attr.option;});});setSelectedVariation(matching);};const updatePrice=()=>{if(selectedVariation){setTotalPrice(parseFloat(selectedVariation.price)*quantity);}else if(product){setTotalPrice(parseFloat(product.price)*quantity);}};const formatPrice=price=>{return new Intl.NumberFormat('es-CL',{style:'currency',currency:'CLP',minimumFractionDigits:0,maximumFractionDigits:0}).format(price);};const isValidSelection=()=>{if(product.type==='variable'){// Para productos variables, verificar que se haya seleccionado una variación\nreturn selectedVariation!==null;}return true;};const handleAddToCart=()=>{var _selectedVariation$im,_product$images,_product$images$;if(!isValidSelection()){alert('Por favor, selecciona todas las opciones requeridas');return;}const cartItem={id:selectedVariation?`${product.id}-${selectedVariation.id}`:product.id,productId:product.id,variationId:selectedVariation===null||selectedVariation===void 0?void 0:selectedVariation.id,name:product.name,price:selectedVariation?parseFloat(selectedVariation.price):parseFloat(product.price),image:(selectedVariation===null||selectedVariation===void 0?void 0:(_selectedVariation$im=selectedVariation.image)===null||_selectedVariation$im===void 0?void 0:_selectedVariation$im.src)||((_product$images=product.images)===null||_product$images===void 0?void 0:(_product$images$=_product$images[0])===null||_product$images$===void 0?void 0:_product$images$.src)||'',quantity,customizations:{attributes:selectedAttributes,specialInstructions,variationName:(selectedVariation===null||selectedVariation===void 0?void 0:selectedVariation.name)||''}};addToCart(cartItem);onClose();resetForm();};const resetForm=()=>{setSelectedAttributes({});setSelectedVariation(null);setQuantity(1);setSpecialInstructions('');};if(!isOpen||!product)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"customization-modal-overlay\",onClick:onClose,children:/*#__PURE__*/_jsxs(\"div\",{className:\"customization-modal\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"customization-header\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Personaliza tu \",product.name]}),/*#__PURE__*/_jsx(\"button\",{className:\"customization-close\",onClick:onClose,children:/*#__PURE__*/_jsx(X,{size:24})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"customization-content\",children:loading?/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",children:[/*#__PURE__*/_jsx(Loader,{className:\"spinner\",size:40}),/*#__PURE__*/_jsx(\"p\",{children:\"Cargando opciones...\"})]}):error?/*#__PURE__*/_jsxs(\"div\",{className:\"error-container\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsx(\"button\",{onClick:loadProductData,className:\"retry-button\",children:\"Reintentar\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"customization-product-info\",children:[((_product$images2=product.images)===null||_product$images2===void 0?void 0:(_product$images2$=_product$images2[0])===null||_product$images2$===void 0?void 0:_product$images2$.src)&&/*#__PURE__*/_jsx(\"img\",{src:product.images[0].src,alt:product.name,className:\"customization-product-image\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:product.name}),product.short_description&&/*#__PURE__*/_jsx(\"p\",{dangerouslySetInnerHTML:{__html:product.short_description}})]})]}),attributes.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"customization-section\",children:attributes.map(attribute=>/*#__PURE__*/_jsxs(\"div\",{className:\"attribute-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:attribute.name}),/*#__PURE__*/_jsx(\"div\",{className:\"attribute-options\",children:attribute.options.map(option=>/*#__PURE__*/_jsxs(\"label\",{className:\"attribute-option\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:attribute.name,value:option,checked:selectedAttributes[attribute.name]===option,onChange:()=>handleAttributeChange(attribute.name,option)}),/*#__PURE__*/_jsx(\"span\",{className:\"option-label\",children:option})]},option))})]},attribute.id))}),selectedVariation&&/*#__PURE__*/_jsxs(\"div\",{className:\"variation-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"variation-price\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Precio:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"price\",children:formatPrice(selectedVariation.price)})]}),selectedVariation.stock_status==='outofstock'&&/*#__PURE__*/_jsx(\"p\",{className:\"out-of-stock\",children:\"Agotado\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"customization-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Instrucciones especiales (opcional)\"}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Ej: Sin cebolla, poco cocida, extra crujiente...\",value:specialInstructions,onChange:e=>setSpecialInstructions(e.target.value),className:\"special-instructions\",rows:3})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"customization-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Cantidad\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"quantity-selector\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setQuantity(Math.max(1,quantity-1)),className:\"quantity-btn\",\"aria-label\":\"Disminuir cantidad\",children:/*#__PURE__*/_jsx(Minus,{size:20})}),/*#__PURE__*/_jsx(\"span\",{className:\"quantity-value\",children:quantity}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setQuantity(quantity+1),className:\"quantity-btn\",\"aria-label\":\"Aumentar cantidad\",children:/*#__PURE__*/_jsx(Plus,{size:20})})]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"customization-footer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"total-info\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Total:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"total-price\",children:formatPrice(totalPrice)})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary add-to-cart-btn\",onClick:handleAddToCart,disabled:loading||!isValidSelection(),children:loading?'Cargando...':'Agregar al carrito'})]})]})});};export default CustomizationModal;","map":{"version":3,"names":["React","useState","useContext","useEffect","X","Plus","Minus","Info","Check","Loader","CartContext","woocommerceApi","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","CustomizationModal","_ref","_product$images2","_product$images2$","product","isOpen","onClose","addToCart","variations","setVariations","attributes","setAttributes","loading","setLoading","error","setError","selectedAttributes","setSelectedAttributes","selectedVariation","setSelectedVariation","quantity","setQuantity","specialInstructions","setSpecialInstructions","totalPrice","setTotalPrice","loadProductData","updatePrice","type","variationsData","getProductVariations","id","filter","attr","variation","err","console","handleAttributeChange","attributeName","value","newAttributes","findMatchingVariation","length","matching","find","every","name","option","parseFloat","price","formatPrice","Intl","NumberFormat","style","currency","minimumFractionDigits","maximumFractionDigits","format","isValidSelection","handleAddToCart","_selectedVariation$im","_product$images","_product$images$","alert","cartItem","productId","variationId","image","src","images","customizations","variationName","resetForm","className","onClick","children","e","stopPropagation","size","alt","short_description","dangerouslySetInnerHTML","__html","map","attribute","options","checked","onChange","stock_status","placeholder","target","rows","Math","max","disabled"],"sources":["/Users/franciscalabra/Desktop/pizzeria-escandalosos/src/components/CustomizationModal/CustomizationModal.jsx"],"sourcesContent":["// src/components/CustomizationModal/CustomizationModal.jsx\nimport React, { useState, useContext, useEffect } from 'react';\nimport { X, Plus, Minus, Info, Check, Loader } from 'lucide-react';\nimport { CartContext } from '../../context/CartContext';\nimport woocommerceApi from '../../services/woocommerceApi';\nimport './CustomizationModal.css';\n\nconst CustomizationModal = ({ product, isOpen, onClose }) => {\n  const { addToCart } = useContext(CartContext);\n  \n  // Estados para datos de WooCommerce\n  const [variations, setVariations] = useState([]);\n  const [attributes, setAttributes] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  \n  // Estados de selección\n  const [selectedAttributes, setSelectedAttributes] = useState({});\n  const [selectedVariation, setSelectedVariation] = useState(null);\n  const [quantity, setQuantity] = useState(1);\n  const [specialInstructions, setSpecialInstructions] = useState('');\n  const [totalPrice, setTotalPrice] = useState(0);\n\n  // Cargar variaciones y atributos cuando se abre el modal\n  useEffect(() => {\n    if (isOpen && product) {\n      loadProductData();\n    }\n  }, [isOpen, product]);\n\n  // Actualizar precio cuando cambia la selección\n  useEffect(() => {\n    updatePrice();\n  }, [selectedVariation, quantity]);\n\n  const loadProductData = async () => {\n    setLoading(true);\n    setError(null);\n    \n    try {\n      // Si es un producto variable, cargar variaciones\n      if (product.type === 'variable') {\n        const variationsData = await woocommerceApi.getProductVariations(product.id);\n        setVariations(variationsData);\n        \n        // Extraer atributos del producto\n        if (product.attributes) {\n          setAttributes(product.attributes.filter(attr => attr.variation));\n        }\n      }\n    } catch (err) {\n      console.error('Error loading product data:', err);\n      setError('Error al cargar las opciones del producto');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleAttributeChange = (attributeName, value) => {\n    const newAttributes = {\n      ...selectedAttributes,\n      [attributeName]: value\n    };\n    setSelectedAttributes(newAttributes);\n    \n    // Buscar variación que coincida con los atributos seleccionados\n    findMatchingVariation(newAttributes);\n  };\n\n  const findMatchingVariation = (attributes) => {\n    if (!variations.length) return;\n    \n    const matching = variations.find(variation => {\n      return variation.attributes.every(attr => {\n        return attributes[attr.name] === attr.option;\n      });\n    });\n    \n    setSelectedVariation(matching);\n  };\n\n  const updatePrice = () => {\n    if (selectedVariation) {\n      setTotalPrice(parseFloat(selectedVariation.price) * quantity);\n    } else if (product) {\n      setTotalPrice(parseFloat(product.price) * quantity);\n    }\n  };\n\n  const formatPrice = (price) => {\n    return new Intl.NumberFormat('es-CL', {\n      style: 'currency',\n      currency: 'CLP',\n      minimumFractionDigits: 0,\n      maximumFractionDigits: 0,\n    }).format(price);\n  };\n\n  const isValidSelection = () => {\n    if (product.type === 'variable') {\n      // Para productos variables, verificar que se haya seleccionado una variación\n      return selectedVariation !== null;\n    }\n    return true;\n  };\n\n  const handleAddToCart = () => {\n    if (!isValidSelection()) {\n      alert('Por favor, selecciona todas las opciones requeridas');\n      return;\n    }\n\n    const cartItem = {\n      id: selectedVariation ? `${product.id}-${selectedVariation.id}` : product.id,\n      productId: product.id,\n      variationId: selectedVariation?.id,\n      name: product.name,\n      price: selectedVariation ? parseFloat(selectedVariation.price) : parseFloat(product.price),\n      image: selectedVariation?.image?.src || product.images?.[0]?.src || '',\n      quantity,\n      customizations: {\n        attributes: selectedAttributes,\n        specialInstructions,\n        variationName: selectedVariation?.name || ''\n      }\n    };\n\n    addToCart(cartItem);\n    onClose();\n    resetForm();\n  };\n\n  const resetForm = () => {\n    setSelectedAttributes({});\n    setSelectedVariation(null);\n    setQuantity(1);\n    setSpecialInstructions('');\n  };\n\n  if (!isOpen || !product) return null;\n\n  return (\n    <div className=\"customization-modal-overlay\" onClick={onClose}>\n      <div className=\"customization-modal\" onClick={(e) => e.stopPropagation()}>\n        <div className=\"customization-header\">\n          <h2>Personaliza tu {product.name}</h2>\n          <button className=\"customization-close\" onClick={onClose}>\n            <X size={24} />\n          </button>\n        </div>\n\n        <div className=\"customization-content\">\n          {loading ? (\n            <div className=\"loading-container\">\n              <Loader className=\"spinner\" size={40} />\n              <p>Cargando opciones...</p>\n            </div>\n          ) : error ? (\n            <div className=\"error-container\">\n              <p className=\"error-message\">{error}</p>\n              <button onClick={loadProductData} className=\"retry-button\">\n                Reintentar\n              </button>\n            </div>\n          ) : (\n            <>\n              {/* Imagen y descripción del producto */}\n              <div className=\"customization-product-info\">\n                {product.images?.[0]?.src && (\n                  <img \n                    src={product.images[0].src} \n                    alt={product.name}\n                    className=\"customization-product-image\"\n                  />\n                )}\n                <div>\n                  <h3>{product.name}</h3>\n                  {product.short_description && (\n                    <p dangerouslySetInnerHTML={{ __html: product.short_description }} />\n                  )}\n                </div>\n              </div>\n\n              {/* Atributos del producto (tamaño, color, etc.) */}\n              {attributes.length > 0 && (\n                <div className=\"customization-section\">\n                  {attributes.map(attribute => (\n                    <div key={attribute.id} className=\"attribute-section\">\n                      <h4>{attribute.name}</h4>\n                      <div className=\"attribute-options\">\n                        {attribute.options.map(option => (\n                          <label key={option} className=\"attribute-option\">\n                            <input\n                              type=\"radio\"\n                              name={attribute.name}\n                              value={option}\n                              checked={selectedAttributes[attribute.name] === option}\n                              onChange={() => handleAttributeChange(attribute.name, option)}\n                            />\n                            <span className=\"option-label\">{option}</span>\n                          </label>\n                        ))}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n\n              {/* Mostrar información de la variación seleccionada */}\n              {selectedVariation && (\n                <div className=\"variation-info\">\n                  <div className=\"variation-price\">\n                    <span>Precio:</span>\n                    <span className=\"price\">{formatPrice(selectedVariation.price)}</span>\n                  </div>\n                  {selectedVariation.stock_status === 'outofstock' && (\n                    <p className=\"out-of-stock\">Agotado</p>\n                  )}\n                </div>\n              )}\n\n              {/* Instrucciones especiales */}\n              <div className=\"customization-section\">\n                <h4>Instrucciones especiales (opcional)</h4>\n                <textarea\n                  placeholder=\"Ej: Sin cebolla, poco cocida, extra crujiente...\"\n                  value={specialInstructions}\n                  onChange={(e) => setSpecialInstructions(e.target.value)}\n                  className=\"special-instructions\"\n                  rows={3}\n                />\n              </div>\n\n              {/* Selector de cantidad */}\n              <div className=\"customization-section\">\n                <h4>Cantidad</h4>\n                <div className=\"quantity-selector\">\n                  <button \n                    onClick={() => setQuantity(Math.max(1, quantity - 1))}\n                    className=\"quantity-btn\"\n                    aria-label=\"Disminuir cantidad\"\n                  >\n                    <Minus size={20} />\n                  </button>\n                  <span className=\"quantity-value\">{quantity}</span>\n                  <button \n                    onClick={() => setQuantity(quantity + 1)}\n                    className=\"quantity-btn\"\n                    aria-label=\"Aumentar cantidad\"\n                  >\n                    <Plus size={20} />\n                  </button>\n                </div>\n              </div>\n            </>\n          )}\n        </div>\n\n        <div className=\"customization-footer\">\n          <div className=\"total-info\">\n            <span>Total:</span>\n            <span className=\"total-price\">{formatPrice(totalPrice)}</span>\n          </div>\n          <button \n            className=\"btn btn-primary add-to-cart-btn\"\n            onClick={handleAddToCart}\n            disabled={loading || !isValidSelection()}\n          >\n            {loading ? 'Cargando...' : 'Agregar al carrito'}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CustomizationModal;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}