{"ast":null,"code":"var _jsxFileName = \"/Users/franciscalabra/Desktop/pizzeria-escandalosos/src/context/CartContext.jsx\",\n  _s = $RefreshSig$();\n// src/context/CartContext.jsx\nimport React, { createContext, useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const CartContext = /*#__PURE__*/createContext();\nexport const CartProvider = ({\n  children\n}) => {\n  _s();\n  const [cart, setCart] = useState(() => {\n    const savedCart = localStorage.getItem('escandalosos_cart');\n    return savedCart ? JSON.parse(savedCart) : [];\n  });\n  useEffect(() => {\n    localStorage.setItem('escandalosos_cart', JSON.stringify(cart));\n  }, [cart]);\n  const addToCart = (product, quantity = 1) => {\n    setCart(prevCart => {\n      var _product$images, _product$images$;\n      const existingItem = prevCart.find(item => item.id === product.id);\n      if (existingItem) {\n        return prevCart.map(item => item.id === product.id ? {\n          ...item,\n          quantity: item.quantity + quantity\n        } : item);\n      }\n      return [...prevCart, {\n        id: product.id,\n        name: product.name,\n        price: parseFloat(product.price),\n        image: ((_product$images = product.images) === null || _product$images === void 0 ? void 0 : (_product$images$ = _product$images[0]) === null || _product$images$ === void 0 ? void 0 : _product$images$.src) || '',\n        quantity\n      }];\n    });\n  };\n  const updateQuantity = (productId, quantity) => {\n    if (quantity <= 0) {\n      removeFromCart(productId);\n      return;\n    }\n    setCart(prevCart => prevCart.map(item => item.id === productId ? {\n      ...item,\n      quantity\n    } : item));\n  };\n  const removeFromCart = productId => {\n    setCart(prevCart => prevCart.filter(item => item.id !== productId));\n  };\n  const clearCart = () => {\n    setCart([]);\n  };\n  const getCartTotal = () => {\n    return cart.reduce((total, item) => total + item.price * item.quantity, 0);\n  };\n  const getItemCount = () => {\n    return cart.reduce((total, item) => total + item.quantity, 0);\n  };\n  const value = {\n    cart,\n    addToCart,\n    updateQuantity,\n    removeFromCart,\n    clearCart,\n    getCartTotal,\n    getItemCount\n  };\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 5\n  }, this);\n};\n_s(CartProvider, \"anbifSeFXyvOl3Mbd31dSWm/5C8=\");\n_c = CartProvider;\nvar _c;\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"names":["React","createContext","useState","useEffect","jsxDEV","_jsxDEV","CartContext","CartProvider","children","_s","cart","setCart","savedCart","localStorage","getItem","JSON","parse","setItem","stringify","addToCart","product","quantity","prevCart","_product$images","_product$images$","existingItem","find","item","id","map","name","price","parseFloat","image","images","src","updateQuantity","productId","removeFromCart","filter","clearCart","getCartTotal","reduce","total","getItemCount","value","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/franciscalabra/Desktop/pizzeria-escandalosos/src/context/CartContext.jsx"],"sourcesContent":["// src/context/CartContext.jsx\nimport React, { createContext, useState, useEffect } from 'react';\n\nexport const CartContext = createContext();\n\nexport const CartProvider = ({ children }) => {\n  const [cart, setCart] = useState(() => {\n    const savedCart = localStorage.getItem('escandalosos_cart');\n    return savedCart ? JSON.parse(savedCart) : [];\n  });\n\n  useEffect(() => {\n    localStorage.setItem('escandalosos_cart', JSON.stringify(cart));\n  }, [cart]);\n\n  const addToCart = (product, quantity = 1) => {\n    setCart(prevCart => {\n      const existingItem = prevCart.find(item => item.id === product.id);\n      \n      if (existingItem) {\n        return prevCart.map(item =>\n          item.id === product.id\n            ? { ...item, quantity: item.quantity + quantity }\n            : item\n        );\n      }\n      \n      return [...prevCart, {\n        id: product.id,\n        name: product.name,\n        price: parseFloat(product.price),\n        image: product.images?.[0]?.src || '',\n        quantity\n      }];\n    });\n  };\n\n  const updateQuantity = (productId, quantity) => {\n    if (quantity <= 0) {\n      removeFromCart(productId);\n      return;\n    }\n    \n    setCart(prevCart =>\n      prevCart.map(item =>\n        item.id === productId ? { ...item, quantity } : item\n      )\n    );\n  };\n\n  const removeFromCart = (productId) => {\n    setCart(prevCart => prevCart.filter(item => item.id !== productId));\n  };\n\n  const clearCart = () => {\n    setCart([]);\n  };\n\n  const getCartTotal = () => {\n    return cart.reduce((total, item) => total + (item.price * item.quantity), 0);\n  };\n\n  const getItemCount = () => {\n    return cart.reduce((total, item) => total + item.quantity, 0);\n  };\n\n  const value = {\n    cart,\n    addToCart,\n    updateQuantity,\n    removeFromCart,\n    clearCart,\n    getCartTotal,\n    getItemCount\n  };\n\n  return (\n    <CartContext.Provider value={value}>\n      {children}\n    </CartContext.Provider>\n  );\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}