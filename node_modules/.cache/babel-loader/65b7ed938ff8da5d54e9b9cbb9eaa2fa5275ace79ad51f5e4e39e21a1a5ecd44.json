{"ast":null,"code":"var _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\n// src/hooks/useWooCommerce.js\nimport { useState, useEffect, useCallback } from 'react';\nimport woocommerceApi from '../services/woocommerceApi';\nexport const useWooCommerce = () => {\n  _s();\n  const [products, setProducts] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  // Cargar productos\n  const loadProducts = useCallback(async (params = {}) => {\n    setLoading(true);\n    setError(null);\n    try {\n      const data = await woocommerceApi.getProducts(params);\n      setProducts(data);\n      return data;\n    } catch (err) {\n      setError(err.message);\n      console.error('Error cargando productos:', err);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  // Cargar categorías\n  const loadCategories = useCallback(async () => {\n    try {\n      const data = await woocommerceApi.getCategories();\n      setCategories(data);\n      return data;\n    } catch (err) {\n      console.error('Error cargando categorías:', err);\n    }\n  }, []);\n\n  // Crear pedido\n  const createOrder = useCallback(async orderData => {\n    setLoading(true);\n    setError(null);\n    try {\n      const order = await woocommerceApi.createOrder(orderData);\n      return order;\n    } catch (err) {\n      setError(err.message);\n      throw err;\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  // Cargar productos al montar el componente\n  useEffect(() => {\n    loadProducts();\n    loadCategories();\n  }, [loadProducts, loadCategories]);\n  return {\n    products,\n    categories,\n    loading,\n    error,\n    loadProducts,\n    loadCategories,\n    createOrder,\n    // Exportar la API completa para uso directo si es necesario\n    api: woocommerceApi\n  };\n};\n\n// Hook para un producto específico\n_s(useWooCommerce, \"uzeka1SVqodXR5M/bXl6TxU9VrE=\");\nexport const useProduct = productId => {\n  _s2();\n  const [product, setProduct] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    if (!productId) return;\n    const loadProduct = async () => {\n      setLoading(true);\n      setError(null);\n      try {\n        const data = await woocommerceApi.getProduct(productId);\n        setProduct(data);\n      } catch (err) {\n        setError(err.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n    loadProduct();\n  }, [productId]);\n  return {\n    product,\n    loading,\n    error\n  };\n};\n\n// Hook para gestionar el carrito con WooCommerce\n_s2(useProduct, \"z5p/yCc8CbvZDSevOnh+ant49Lc=\");\nexport const useWooCommerceCart = () => {\n  _s3();\n  const [cart, setCart] = useState(() => {\n    const savedCart = localStorage.getItem('woo_cart');\n    return savedCart ? JSON.parse(savedCart) : [];\n  });\n\n  // Guardar carrito en localStorage\n  useEffect(() => {\n    localStorage.setItem('woo_cart', JSON.stringify(cart));\n  }, [cart]);\n\n  // Agregar al carrito\n  const addToCart = useCallback((product, quantity = 1, customizations = {}) => {\n    setCart(prevCart => {\n      var _product$images$;\n      const existingItem = prevCart.find(item => item.id === product.id && JSON.stringify(item.customizations) === JSON.stringify(customizations));\n      if (existingItem) {\n        return prevCart.map(item => item === existingItem ? {\n          ...item,\n          quantity: item.quantity + quantity\n        } : item);\n      }\n      return [...prevCart, {\n        id: product.id,\n        productId: product.id,\n        name: product.name,\n        price: parseFloat(product.price),\n        image: ((_product$images$ = product.images[0]) === null || _product$images$ === void 0 ? void 0 : _product$images$.src) || '',\n        quantity,\n        customizations\n      }];\n    });\n  }, []);\n\n  // Remover del carrito\n  const removeFromCart = useCallback(itemId => {\n    setCart(prevCart => prevCart.filter(item => item.id !== itemId));\n  }, []);\n\n  // Actualizar cantidad\n  const updateQuantity = useCallback((itemId, quantity) => {\n    if (quantity <= 0) {\n      removeFromCart(itemId);\n      return;\n    }\n    setCart(prevCart => prevCart.map(item => item.id === itemId ? {\n      ...item,\n      quantity\n    } : item));\n  }, [removeFromCart]);\n\n  // Limpiar carrito\n  const clearCart = useCallback(() => {\n    setCart([]);\n  }, []);\n\n  // Calcular total\n  const getCartTotal = useCallback(() => {\n    return cart.reduce((total, item) => total + item.price * item.quantity, 0);\n  }, [cart]);\n\n  // Obtener cantidad de items\n  const getItemCount = useCallback(() => {\n    return cart.reduce((total, item) => total + item.quantity, 0);\n  }, [cart]);\n  return {\n    cart,\n    addToCart,\n    removeFromCart,\n    updateQuantity,\n    clearCart,\n    getCartTotal,\n    getItemCount\n  };\n};\n_s3(useWooCommerceCart, \"6J79gB7v/k3OS3foZSA38iY7kZE=\");","map":{"version":3,"names":["useState","useEffect","useCallback","woocommerceApi","useWooCommerce","_s","products","setProducts","categories","setCategories","loading","setLoading","error","setError","loadProducts","params","data","getProducts","err","message","console","loadCategories","getCategories","createOrder","orderData","order","api","useProduct","productId","_s2","product","setProduct","loadProduct","getProduct","useWooCommerceCart","_s3","cart","setCart","savedCart","localStorage","getItem","JSON","parse","setItem","stringify","addToCart","quantity","customizations","prevCart","_product$images$","existingItem","find","item","id","map","name","price","parseFloat","image","images","src","removeFromCart","itemId","filter","updateQuantity","clearCart","getCartTotal","reduce","total","getItemCount"],"sources":["/Users/franciscalabra/Desktop/escandalosos/src/hooks/useWooCommerce.js"],"sourcesContent":["// src/hooks/useWooCommerce.js\nimport { useState, useEffect, useCallback } from 'react';\nimport woocommerceApi from '../services/woocommerceApi';\n\nexport const useWooCommerce = () => {\n  const [products, setProducts] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  // Cargar productos\n  const loadProducts = useCallback(async (params = {}) => {\n    setLoading(true);\n    setError(null);\n    try {\n      const data = await woocommerceApi.getProducts(params);\n      setProducts(data);\n      return data;\n    } catch (err) {\n      setError(err.message);\n      console.error('Error cargando productos:', err);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  // Cargar categorías\n  const loadCategories = useCallback(async () => {\n    try {\n      const data = await woocommerceApi.getCategories();\n      setCategories(data);\n      return data;\n    } catch (err) {\n      console.error('Error cargando categorías:', err);\n    }\n  }, []);\n\n  // Crear pedido\n  const createOrder = useCallback(async (orderData) => {\n    setLoading(true);\n    setError(null);\n    try {\n      const order = await woocommerceApi.createOrder(orderData);\n      return order;\n    } catch (err) {\n      setError(err.message);\n      throw err;\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  // Cargar productos al montar el componente\n  useEffect(() => {\n    loadProducts();\n    loadCategories();\n  }, [loadProducts, loadCategories]);\n\n  return {\n    products,\n    categories,\n    loading,\n    error,\n    loadProducts,\n    loadCategories,\n    createOrder,\n    // Exportar la API completa para uso directo si es necesario\n    api: woocommerceApi\n  };\n};\n\n// Hook para un producto específico\nexport const useProduct = (productId) => {\n  const [product, setProduct] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    if (!productId) return;\n\n    const loadProduct = async () => {\n      setLoading(true);\n      setError(null);\n      try {\n        const data = await woocommerceApi.getProduct(productId);\n        setProduct(data);\n      } catch (err) {\n        setError(err.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadProduct();\n  }, [productId]);\n\n  return { product, loading, error };\n};\n\n// Hook para gestionar el carrito con WooCommerce\nexport const useWooCommerceCart = () => {\n  const [cart, setCart] = useState(() => {\n    const savedCart = localStorage.getItem('woo_cart');\n    return savedCart ? JSON.parse(savedCart) : [];\n  });\n\n  // Guardar carrito en localStorage\n  useEffect(() => {\n    localStorage.setItem('woo_cart', JSON.stringify(cart));\n  }, [cart]);\n\n  // Agregar al carrito\n  const addToCart = useCallback((product, quantity = 1, customizations = {}) => {\n    setCart(prevCart => {\n      const existingItem = prevCart.find(item => \n        item.id === product.id && \n        JSON.stringify(item.customizations) === JSON.stringify(customizations)\n      );\n\n      if (existingItem) {\n        return prevCart.map(item =>\n          item === existingItem\n            ? { ...item, quantity: item.quantity + quantity }\n            : item\n        );\n      }\n\n      return [...prevCart, {\n        id: product.id,\n        productId: product.id,\n        name: product.name,\n        price: parseFloat(product.price),\n        image: product.images[0]?.src || '',\n        quantity,\n        customizations\n      }];\n    });\n  }, []);\n\n  // Remover del carrito\n  const removeFromCart = useCallback((itemId) => {\n    setCart(prevCart => prevCart.filter(item => item.id !== itemId));\n  }, []);\n\n  // Actualizar cantidad\n  const updateQuantity = useCallback((itemId, quantity) => {\n    if (quantity <= 0) {\n      removeFromCart(itemId);\n      return;\n    }\n\n    setCart(prevCart =>\n      prevCart.map(item =>\n        item.id === itemId ? { ...item, quantity } : item\n      )\n    );\n  }, [removeFromCart]);\n\n  // Limpiar carrito\n  const clearCart = useCallback(() => {\n    setCart([]);\n  }, []);\n\n  // Calcular total\n  const getCartTotal = useCallback(() => {\n    return cart.reduce((total, item) => total + (item.price * item.quantity), 0);\n  }, [cart]);\n\n  // Obtener cantidad de items\n  const getItemCount = useCallback(() => {\n    return cart.reduce((total, item) => total + item.quantity, 0);\n  }, [cart]);\n\n  return {\n    cart,\n    addToCart,\n    removeFromCart,\n    updateQuantity,\n    clearCart,\n    getCartTotal,\n    getItemCount\n  };\n};"],"mappings":";;;AAAA;AACA,SAASA,QAAQ,EAAEC,SAAS,EAAEC,WAAW,QAAQ,OAAO;AACxD,OAAOC,cAAc,MAAM,4BAA4B;AAEvD,OAAO,MAAMC,cAAc,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAClC,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACQ,UAAU,EAAEC,aAAa,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACU,OAAO,EAAEC,UAAU,CAAC,GAAGX,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACY,KAAK,EAAEC,QAAQ,CAAC,GAAGb,QAAQ,CAAC,IAAI,CAAC;;EAExC;EACA,MAAMc,YAAY,GAAGZ,WAAW,CAAC,OAAOa,MAAM,GAAG,CAAC,CAAC,KAAK;IACtDJ,UAAU,CAAC,IAAI,CAAC;IAChBE,QAAQ,CAAC,IAAI,CAAC;IACd,IAAI;MACF,MAAMG,IAAI,GAAG,MAAMb,cAAc,CAACc,WAAW,CAACF,MAAM,CAAC;MACrDR,WAAW,CAACS,IAAI,CAAC;MACjB,OAAOA,IAAI;IACb,CAAC,CAAC,OAAOE,GAAG,EAAE;MACZL,QAAQ,CAACK,GAAG,CAACC,OAAO,CAAC;MACrBC,OAAO,CAACR,KAAK,CAAC,2BAA2B,EAAEM,GAAG,CAAC;IACjD,CAAC,SAAS;MACRP,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,MAAMU,cAAc,GAAGnB,WAAW,CAAC,YAAY;IAC7C,IAAI;MACF,MAAMc,IAAI,GAAG,MAAMb,cAAc,CAACmB,aAAa,CAAC,CAAC;MACjDb,aAAa,CAACO,IAAI,CAAC;MACnB,OAAOA,IAAI;IACb,CAAC,CAAC,OAAOE,GAAG,EAAE;MACZE,OAAO,CAACR,KAAK,CAAC,4BAA4B,EAAEM,GAAG,CAAC;IAClD;EACF,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,MAAMK,WAAW,GAAGrB,WAAW,CAAC,MAAOsB,SAAS,IAAK;IACnDb,UAAU,CAAC,IAAI,CAAC;IAChBE,QAAQ,CAAC,IAAI,CAAC;IACd,IAAI;MACF,MAAMY,KAAK,GAAG,MAAMtB,cAAc,CAACoB,WAAW,CAACC,SAAS,CAAC;MACzD,OAAOC,KAAK;IACd,CAAC,CAAC,OAAOP,GAAG,EAAE;MACZL,QAAQ,CAACK,GAAG,CAACC,OAAO,CAAC;MACrB,MAAMD,GAAG;IACX,CAAC,SAAS;MACRP,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC,EAAE,EAAE,CAAC;;EAEN;EACAV,SAAS,CAAC,MAAM;IACda,YAAY,CAAC,CAAC;IACdO,cAAc,CAAC,CAAC;EAClB,CAAC,EAAE,CAACP,YAAY,EAAEO,cAAc,CAAC,CAAC;EAElC,OAAO;IACLf,QAAQ;IACRE,UAAU;IACVE,OAAO;IACPE,KAAK;IACLE,YAAY;IACZO,cAAc;IACdE,WAAW;IACX;IACAG,GAAG,EAAEvB;EACP,CAAC;AACH,CAAC;;AAED;AAAAE,EAAA,CAnEaD,cAAc;AAoE3B,OAAO,MAAMuB,UAAU,GAAIC,SAAS,IAAK;EAAAC,GAAA;EACvC,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAG/B,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACU,OAAO,EAAEC,UAAU,CAAC,GAAGX,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACY,KAAK,EAAEC,QAAQ,CAAC,GAAGb,QAAQ,CAAC,IAAI,CAAC;EAExCC,SAAS,CAAC,MAAM;IACd,IAAI,CAAC2B,SAAS,EAAE;IAEhB,MAAMI,WAAW,GAAG,MAAAA,CAAA,KAAY;MAC9BrB,UAAU,CAAC,IAAI,CAAC;MAChBE,QAAQ,CAAC,IAAI,CAAC;MACd,IAAI;QACF,MAAMG,IAAI,GAAG,MAAMb,cAAc,CAAC8B,UAAU,CAACL,SAAS,CAAC;QACvDG,UAAU,CAACf,IAAI,CAAC;MAClB,CAAC,CAAC,OAAOE,GAAG,EAAE;QACZL,QAAQ,CAACK,GAAG,CAACC,OAAO,CAAC;MACvB,CAAC,SAAS;QACRR,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC;IAEDqB,WAAW,CAAC,CAAC;EACf,CAAC,EAAE,CAACJ,SAAS,CAAC,CAAC;EAEf,OAAO;IAAEE,OAAO;IAAEpB,OAAO;IAAEE;EAAM,CAAC;AACpC,CAAC;;AAED;AAAAiB,GAAA,CA3BaF,UAAU;AA4BvB,OAAO,MAAMO,kBAAkB,GAAGA,CAAA,KAAM;EAAAC,GAAA;EACtC,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGrC,QAAQ,CAAC,MAAM;IACrC,MAAMsC,SAAS,GAAGC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC;IAClD,OAAOF,SAAS,GAAGG,IAAI,CAACC,KAAK,CAACJ,SAAS,CAAC,GAAG,EAAE;EAC/C,CAAC,CAAC;;EAEF;EACArC,SAAS,CAAC,MAAM;IACdsC,YAAY,CAACI,OAAO,CAAC,UAAU,EAAEF,IAAI,CAACG,SAAS,CAACR,IAAI,CAAC,CAAC;EACxD,CAAC,EAAE,CAACA,IAAI,CAAC,CAAC;;EAEV;EACA,MAAMS,SAAS,GAAG3C,WAAW,CAAC,CAAC4B,OAAO,EAAEgB,QAAQ,GAAG,CAAC,EAAEC,cAAc,GAAG,CAAC,CAAC,KAAK;IAC5EV,OAAO,CAACW,QAAQ,IAAI;MAAA,IAAAC,gBAAA;MAClB,MAAMC,YAAY,GAAGF,QAAQ,CAACG,IAAI,CAACC,IAAI,IACrCA,IAAI,CAACC,EAAE,KAAKvB,OAAO,CAACuB,EAAE,IACtBZ,IAAI,CAACG,SAAS,CAACQ,IAAI,CAACL,cAAc,CAAC,KAAKN,IAAI,CAACG,SAAS,CAACG,cAAc,CACvE,CAAC;MAED,IAAIG,YAAY,EAAE;QAChB,OAAOF,QAAQ,CAACM,GAAG,CAACF,IAAI,IACtBA,IAAI,KAAKF,YAAY,GACjB;UAAE,GAAGE,IAAI;UAAEN,QAAQ,EAAEM,IAAI,CAACN,QAAQ,GAAGA;QAAS,CAAC,GAC/CM,IACN,CAAC;MACH;MAEA,OAAO,CAAC,GAAGJ,QAAQ,EAAE;QACnBK,EAAE,EAAEvB,OAAO,CAACuB,EAAE;QACdzB,SAAS,EAAEE,OAAO,CAACuB,EAAE;QACrBE,IAAI,EAAEzB,OAAO,CAACyB,IAAI;QAClBC,KAAK,EAAEC,UAAU,CAAC3B,OAAO,CAAC0B,KAAK,CAAC;QAChCE,KAAK,EAAE,EAAAT,gBAAA,GAAAnB,OAAO,CAAC6B,MAAM,CAAC,CAAC,CAAC,cAAAV,gBAAA,uBAAjBA,gBAAA,CAAmBW,GAAG,KAAI,EAAE;QACnCd,QAAQ;QACRC;MACF,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,MAAMc,cAAc,GAAG3D,WAAW,CAAE4D,MAAM,IAAK;IAC7CzB,OAAO,CAACW,QAAQ,IAAIA,QAAQ,CAACe,MAAM,CAACX,IAAI,IAAIA,IAAI,CAACC,EAAE,KAAKS,MAAM,CAAC,CAAC;EAClE,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,MAAME,cAAc,GAAG9D,WAAW,CAAC,CAAC4D,MAAM,EAAEhB,QAAQ,KAAK;IACvD,IAAIA,QAAQ,IAAI,CAAC,EAAE;MACjBe,cAAc,CAACC,MAAM,CAAC;MACtB;IACF;IAEAzB,OAAO,CAACW,QAAQ,IACdA,QAAQ,CAACM,GAAG,CAACF,IAAI,IACfA,IAAI,CAACC,EAAE,KAAKS,MAAM,GAAG;MAAE,GAAGV,IAAI;MAAEN;IAAS,CAAC,GAAGM,IAC/C,CACF,CAAC;EACH,CAAC,EAAE,CAACS,cAAc,CAAC,CAAC;;EAEpB;EACA,MAAMI,SAAS,GAAG/D,WAAW,CAAC,MAAM;IAClCmC,OAAO,CAAC,EAAE,CAAC;EACb,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,MAAM6B,YAAY,GAAGhE,WAAW,CAAC,MAAM;IACrC,OAAOkC,IAAI,CAAC+B,MAAM,CAAC,CAACC,KAAK,EAAEhB,IAAI,KAAKgB,KAAK,GAAIhB,IAAI,CAACI,KAAK,GAAGJ,IAAI,CAACN,QAAS,EAAE,CAAC,CAAC;EAC9E,CAAC,EAAE,CAACV,IAAI,CAAC,CAAC;;EAEV;EACA,MAAMiC,YAAY,GAAGnE,WAAW,CAAC,MAAM;IACrC,OAAOkC,IAAI,CAAC+B,MAAM,CAAC,CAACC,KAAK,EAAEhB,IAAI,KAAKgB,KAAK,GAAGhB,IAAI,CAACN,QAAQ,EAAE,CAAC,CAAC;EAC/D,CAAC,EAAE,CAACV,IAAI,CAAC,CAAC;EAEV,OAAO;IACLA,IAAI;IACJS,SAAS;IACTgB,cAAc;IACdG,cAAc;IACdC,SAAS;IACTC,YAAY;IACZG;EACF,CAAC;AACH,CAAC;AAAClC,GAAA,CAlFWD,kBAAkB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}