{"ast":null,"code":"// src/services/woocommerceApi.js\nimport { getApiUrl, getAuthHeaders } from '../config/woocommerce';\nclass WooCommerceAPI {\n  // Método genérico para hacer peticiones\n  async request(endpoint, method = 'GET', data = null) {\n    try {\n      const url = getApiUrl(endpoint);\n      const options = {\n        method,\n        headers: getAuthHeaders()\n      };\n      if (data && method !== 'GET') {\n        options.body = JSON.stringify(data);\n      }\n      console.log('Request URL:', url);\n      console.log('Request options:', options);\n      const response = await fetch(url, options);\n\n      // Intentar obtener el cuerpo de la respuesta\n      const responseText = await response.text();\n      let responseData;\n      try {\n        responseData = JSON.parse(responseText);\n      } catch (e) {\n        responseData = responseText;\n      }\n      if (!response.ok) {\n        console.error('Error response:', responseData);\n        throw new Error(`Error ${response.status}: ${responseData.message || responseData.code || response.statusText}`);\n      }\n      return responseData;\n    } catch (error) {\n      console.error('Error en la petición a WooCommerce:', error);\n      throw error;\n    }\n  }\n\n  // === PRODUCTOS ===\n\n  // Obtener todos los productos\n  async getProducts(params = {}) {\n    const queryParams = new URLSearchParams({\n      per_page: 100,\n      ...params\n    }).toString();\n    return this.request(`products?${queryParams}`);\n  }\n\n  // Obtener un producto por ID\n  async getProduct(id) {\n    return this.request(`products/${id}`);\n  }\n\n  // Obtener variaciones de un producto\n  async getProductVariations(productId) {\n    return this.request(`products/${productId}/variations?per_page=100`);\n  }\n\n  // Obtener atributos de productos\n  async getProductAttributes() {\n    return this.request('products/attributes');\n  }\n\n  // Obtener términos de un atributo\n  async getAttributeTerms(attributeId) {\n    return this.request(`products/attributes/${attributeId}/terms`);\n  }\n\n  // Obtener categorías de productos\n  async getCategories() {\n    return this.request('products/categories?per_page=100');\n  }\n\n  // === MÉTODOS DE ENVÍO Y PAGO ===\n\n  // Obtener zonas de envío\n  async getShippingZones() {\n    return this.request('shipping/zones');\n  }\n\n  // Obtener métodos de envío de una zona\n  async getShippingMethods(zoneId) {\n    return this.request(`shipping/zones/${zoneId}/methods`);\n  }\n\n  // Obtener todos los métodos de envío configurados\n  async getAllShippingMethods() {\n    try {\n      const zones = await this.getShippingZones();\n      const allMethods = [];\n      for (const zone of zones) {\n        const methods = await this.getShippingMethods(zone.id);\n        allMethods.push({\n          zone: zone.name,\n          zoneId: zone.id,\n          methods: methods\n        });\n      }\n      return allMethods;\n    } catch (error) {\n      console.error('Error obteniendo métodos de envío:', error);\n      return [];\n    }\n  }\n\n  // Obtener métodos de pago disponibles\n  async getPaymentMethods() {\n    try {\n      // WooCommerce no expone directamente los métodos de pago vía API REST\n      // Retornamos los métodos básicos configurados\n      return [{\n        id: 'cash',\n        title: 'Efectivo',\n        description: 'Paga al recibir tu pedido',\n        enabled: true\n      }, {\n        id: 'transfer',\n        title: 'Transferencia Bancaria',\n        description: 'Transfiere a nuestra cuenta',\n        enabled: true\n      }];\n    } catch (error) {\n      console.error('Error obteniendo métodos de pago:', error);\n      return [];\n    }\n  }\n\n  // Calcular costo de envío\n  async calculateShipping(address, items) {\n    try {\n      // Primero obtenemos las zonas y métodos\n      const shippingData = await this.getAllShippingMethods();\n\n      // Para simplificar, usamos la primera zona disponible\n      // En producción, deberías determinar la zona según la dirección\n      if (shippingData.length > 0 && shippingData[0].methods.length > 0) {\n        const defaultMethod = shippingData[0].methods.find(m => m.enabled);\n        if (defaultMethod) {\n          // Si el método tiene costo fijo\n          if (defaultMethod.settings && defaultMethod.settings.cost) {\n            return {\n              method_id: defaultMethod.id,\n              method_title: defaultMethod.title,\n              cost: parseFloat(defaultMethod.settings.cost.value || 0)\n            };\n          }\n        }\n      }\n\n      // Valor por defecto si no se encuentra configuración\n      return {\n        method_id: 'flat_rate',\n        method_title: 'Envío a domicilio',\n        cost: 2990\n      };\n    } catch (error) {\n      console.error('Error calculando envío:', error);\n      // Retornar valor por defecto en caso de error\n      return {\n        method_id: 'flat_rate',\n        method_title: 'Envío a domicilio',\n        cost: 2990\n      };\n    }\n  }\n\n  // === PEDIDOS ===\n\n  // Crear un nuevo pedido\n  async createOrder(orderData) {\n    var _orderData$shipping$c;\n    const order = {\n      payment_method: orderData.paymentMethod || 'cash',\n      payment_method_title: orderData.paymentMethodTitle || 'Pago en efectivo',\n      set_paid: false,\n      status: 'pending',\n      billing: {\n        first_name: orderData.customerName,\n        last_name: '',\n        address_1: orderData.address || '',\n        city: orderData.city || 'Santiago',\n        state: '',\n        postcode: '',\n        country: 'CL',\n        email: orderData.email || '',\n        phone: orderData.phone || ''\n      },\n      shipping: {\n        first_name: orderData.customerName,\n        last_name: '',\n        address_1: orderData.address || '',\n        city: orderData.city || 'Santiago',\n        state: '',\n        postcode: '',\n        country: 'CL'\n      },\n      line_items: orderData.items.map(item => {\n        const lineItem = {\n          product_id: parseInt(item.productId),\n          quantity: parseInt(item.quantity)\n        };\n\n        // Si tiene variación, agregar variation_id\n        if (item.variationId) {\n          lineItem.variation_id = parseInt(item.variationId);\n        }\n\n        // Si tiene meta data (personalizaciones)\n        if (item.customizations) {\n          var _item$customizations$, _item$customizations$2, _item$customizations$3;\n          lineItem.meta_data = [];\n          if (((_item$customizations$ = item.customizations.extraIngredients) === null || _item$customizations$ === void 0 ? void 0 : _item$customizations$.length) > 0) {\n            lineItem.meta_data.push({\n              key: 'ingredientes_extra',\n              value: item.customizations.extraIngredients.map(i => i.name).join(', ')\n            });\n          }\n          if (((_item$customizations$2 = item.customizations.removedIngredients) === null || _item$customizations$2 === void 0 ? void 0 : _item$customizations$2.length) > 0) {\n            lineItem.meta_data.push({\n              key: 'ingredientes_removidos',\n              value: item.customizations.removedIngredients.join(', ')\n            });\n          }\n          if (item.customizations.specialInstructions) {\n            lineItem.meta_data.push({\n              key: 'instrucciones_especiales',\n              value: item.customizations.specialInstructions\n            });\n          }\n\n          // Agregar campos de Advanced Product Fields\n          if (((_item$customizations$3 = item.customizations.productAddons) === null || _item$customizations$3 === void 0 ? void 0 : _item$customizations$3.length) > 0) {\n            item.customizations.productAddons.forEach(addon => {\n              lineItem.meta_data.push({\n                key: addon.key,\n                value: addon.value,\n                display_key: addon.display || addon.key,\n                display_value: addon.value\n              });\n            });\n          }\n        }\n        return lineItem;\n      }),\n      shipping_lines: orderData.shipping ? [{\n        method_id: orderData.shipping.method_id || 'flat_rate',\n        method_title: orderData.shipping.method_title || 'Envío a domicilio',\n        total: ((_orderData$shipping$c = orderData.shipping.cost) === null || _orderData$shipping$c === void 0 ? void 0 : _orderData$shipping$c.toString()) || '0'\n      }] : []\n    };\n    return this.request('orders', 'POST', order);\n  }\n\n  // Obtener un pedido\n  async getOrder(orderId) {\n    return this.request(`orders/${orderId}`);\n  }\n\n  // Actualizar estado de un pedido\n  async updateOrderStatus(orderId, status) {\n    return this.request(`orders/${orderId}`, 'PUT', {\n      status\n    });\n  }\n\n  // === CLIENTES ===\n\n  // Crear cliente\n  async createCustomer(customerData) {\n    return this.request('customers', 'POST', customerData);\n  }\n\n  // Obtener cliente\n  async getCustomer(customerId) {\n    return this.request(`customers/${customerId}`);\n  }\n\n  // === CONFIGURACIÓN DE TIENDA ===\n\n  // Obtener configuración general de la tienda\n  async getStoreSettings() {\n    try {\n      return this.request('settings/general');\n    } catch (error) {\n      console.error('Error obteniendo configuración de tienda:', error);\n      return null;\n    }\n  }\n}\nexport default new WooCommerceAPI();","map":{"version":3,"names":["getApiUrl","getAuthHeaders","WooCommerceAPI","request","endpoint","method","data","url","options","headers","body","JSON","stringify","console","log","response","fetch","responseText","text","responseData","parse","e","ok","error","Error","status","message","code","statusText","getProducts","params","queryParams","URLSearchParams","per_page","toString","getProduct","id","getProductVariations","productId","getProductAttributes","getAttributeTerms","attributeId","getCategories","getShippingZones","getShippingMethods","zoneId","getAllShippingMethods","zones","allMethods","zone","methods","push","name","getPaymentMethods","title","description","enabled","calculateShipping","address","items","shippingData","length","defaultMethod","find","m","settings","cost","method_id","method_title","parseFloat","value","createOrder","orderData","_orderData$shipping$c","order","payment_method","paymentMethod","payment_method_title","paymentMethodTitle","set_paid","billing","first_name","customerName","last_name","address_1","city","state","postcode","country","email","phone","shipping","line_items","map","item","lineItem","product_id","parseInt","quantity","variationId","variation_id","customizations","_item$customizations$","_item$customizations$2","_item$customizations$3","meta_data","extraIngredients","key","i","join","removedIngredients","specialInstructions","productAddons","forEach","addon","display_key","display","display_value","shipping_lines","total","getOrder","orderId","updateOrderStatus","createCustomer","customerData","getCustomer","customerId","getStoreSettings"],"sources":["/Users/franciscalabra/Desktop/pizzeria-escandalosos/src/services/woocommerceApi.js"],"sourcesContent":["// src/services/woocommerceApi.js\nimport { getApiUrl, getAuthHeaders } from '../config/woocommerce';\n\nclass WooCommerceAPI {\n  // Método genérico para hacer peticiones\n  async request(endpoint, method = 'GET', data = null) {\n    try {\n      const url = getApiUrl(endpoint);\n      const options = {\n        method,\n        headers: getAuthHeaders(),\n      };\n\n      if (data && method !== 'GET') {\n        options.body = JSON.stringify(data);\n      }\n\n      console.log('Request URL:', url);\n      console.log('Request options:', options);\n\n      const response = await fetch(url, options);\n      \n      // Intentar obtener el cuerpo de la respuesta\n      const responseText = await response.text();\n      let responseData;\n      \n      try {\n        responseData = JSON.parse(responseText);\n      } catch (e) {\n        responseData = responseText;\n      }\n\n      if (!response.ok) {\n        console.error('Error response:', responseData);\n        throw new Error(`Error ${response.status}: ${responseData.message || responseData.code || response.statusText}`);\n      }\n\n      return responseData;\n    } catch (error) {\n      console.error('Error en la petición a WooCommerce:', error);\n      throw error;\n    }\n  }\n\n  // === PRODUCTOS ===\n  \n  // Obtener todos los productos\n  async getProducts(params = {}) {\n    const queryParams = new URLSearchParams({\n      per_page: 100,\n      ...params\n    }).toString();\n    \n    return this.request(`products?${queryParams}`);\n  }\n\n  // Obtener un producto por ID\n  async getProduct(id) {\n    return this.request(`products/${id}`);\n  }\n\n  // Obtener variaciones de un producto\n  async getProductVariations(productId) {\n    return this.request(`products/${productId}/variations?per_page=100`);\n  }\n\n  // Obtener atributos de productos\n  async getProductAttributes() {\n    return this.request('products/attributes');\n  }\n\n  // Obtener términos de un atributo\n  async getAttributeTerms(attributeId) {\n    return this.request(`products/attributes/${attributeId}/terms`);\n  }\n\n  // Obtener categorías de productos\n  async getCategories() {\n    return this.request('products/categories?per_page=100');\n  }\n\n  // === MÉTODOS DE ENVÍO Y PAGO ===\n  \n  // Obtener zonas de envío\n  async getShippingZones() {\n    return this.request('shipping/zones');\n  }\n\n  // Obtener métodos de envío de una zona\n  async getShippingMethods(zoneId) {\n    return this.request(`shipping/zones/${zoneId}/methods`);\n  }\n\n  // Obtener todos los métodos de envío configurados\n  async getAllShippingMethods() {\n    try {\n      const zones = await this.getShippingZones();\n      const allMethods = [];\n      \n      for (const zone of zones) {\n        const methods = await this.getShippingMethods(zone.id);\n        allMethods.push({\n          zone: zone.name,\n          zoneId: zone.id,\n          methods: methods\n        });\n      }\n      \n      return allMethods;\n    } catch (error) {\n      console.error('Error obteniendo métodos de envío:', error);\n      return [];\n    }\n  }\n\n  // Obtener métodos de pago disponibles\n  async getPaymentMethods() {\n    try {\n      // WooCommerce no expone directamente los métodos de pago vía API REST\n      // Retornamos los métodos básicos configurados\n      return [\n        {\n          id: 'cash',\n          title: 'Efectivo',\n          description: 'Paga al recibir tu pedido',\n          enabled: true\n        },\n        {\n          id: 'transfer',\n          title: 'Transferencia Bancaria',\n          description: 'Transfiere a nuestra cuenta',\n          enabled: true\n        }\n      ];\n    } catch (error) {\n      console.error('Error obteniendo métodos de pago:', error);\n      return [];\n    }\n  }\n\n  // Calcular costo de envío\n  async calculateShipping(address, items) {\n    try {\n      // Primero obtenemos las zonas y métodos\n      const shippingData = await this.getAllShippingMethods();\n      \n      // Para simplificar, usamos la primera zona disponible\n      // En producción, deberías determinar la zona según la dirección\n      if (shippingData.length > 0 && shippingData[0].methods.length > 0) {\n        const defaultMethod = shippingData[0].methods.find(m => m.enabled);\n        if (defaultMethod) {\n          // Si el método tiene costo fijo\n          if (defaultMethod.settings && defaultMethod.settings.cost) {\n            return {\n              method_id: defaultMethod.id,\n              method_title: defaultMethod.title,\n              cost: parseFloat(defaultMethod.settings.cost.value || 0)\n            };\n          }\n        }\n      }\n      \n      // Valor por defecto si no se encuentra configuración\n      return {\n        method_id: 'flat_rate',\n        method_title: 'Envío a domicilio',\n        cost: 2990\n      };\n    } catch (error) {\n      console.error('Error calculando envío:', error);\n      // Retornar valor por defecto en caso de error\n      return {\n        method_id: 'flat_rate',\n        method_title: 'Envío a domicilio',\n        cost: 2990\n      };\n    }\n  }\n\n  // === PEDIDOS ===\n  \n  // Crear un nuevo pedido\n  async createOrder(orderData) {\n    const order = {\n      payment_method: orderData.paymentMethod || 'cash',\n      payment_method_title: orderData.paymentMethodTitle || 'Pago en efectivo',\n      set_paid: false,\n      status: 'pending',\n      billing: {\n        first_name: orderData.customerName,\n        last_name: '',\n        address_1: orderData.address || '',\n        city: orderData.city || 'Santiago',\n        state: '',\n        postcode: '',\n        country: 'CL',\n        email: orderData.email || '',\n        phone: orderData.phone || ''\n      },\n      shipping: {\n        first_name: orderData.customerName,\n        last_name: '',\n        address_1: orderData.address || '',\n        city: orderData.city || 'Santiago',\n        state: '',\n        postcode: '',\n        country: 'CL'\n      },\n      line_items: orderData.items.map(item => {\n        const lineItem = {\n          product_id: parseInt(item.productId),\n          quantity: parseInt(item.quantity)\n        };\n\n        // Si tiene variación, agregar variation_id\n        if (item.variationId) {\n          lineItem.variation_id = parseInt(item.variationId);\n        }\n\n        // Si tiene meta data (personalizaciones)\n        if (item.customizations) {\n          lineItem.meta_data = [];\n          \n          if (item.customizations.extraIngredients?.length > 0) {\n            lineItem.meta_data.push({\n              key: 'ingredientes_extra',\n              value: item.customizations.extraIngredients.map(i => i.name).join(', ')\n            });\n          }\n\n          if (item.customizations.removedIngredients?.length > 0) {\n            lineItem.meta_data.push({\n              key: 'ingredientes_removidos',\n              value: item.customizations.removedIngredients.join(', ')\n            });\n          }\n\n          if (item.customizations.specialInstructions) {\n            lineItem.meta_data.push({\n              key: 'instrucciones_especiales',\n              value: item.customizations.specialInstructions\n            });\n          }\n\n          // Agregar campos de Advanced Product Fields\n          if (item.customizations.productAddons?.length > 0) {\n            item.customizations.productAddons.forEach(addon => {\n              lineItem.meta_data.push({\n                key: addon.key,\n                value: addon.value,\n                display_key: addon.display || addon.key,\n                display_value: addon.value\n              });\n            });\n          }\n        }\n\n        return lineItem;\n      }),\n      shipping_lines: orderData.shipping ? [{\n        method_id: orderData.shipping.method_id || 'flat_rate',\n        method_title: orderData.shipping.method_title || 'Envío a domicilio',\n        total: orderData.shipping.cost?.toString() || '0'\n      }] : []\n    };\n\n    return this.request('orders', 'POST', order);\n  }\n\n  // Obtener un pedido\n  async getOrder(orderId) {\n    return this.request(`orders/${orderId}`);\n  }\n\n  // Actualizar estado de un pedido\n  async updateOrderStatus(orderId, status) {\n    return this.request(`orders/${orderId}`, 'PUT', { status });\n  }\n\n  // === CLIENTES ===\n  \n  // Crear cliente\n  async createCustomer(customerData) {\n    return this.request('customers', 'POST', customerData);\n  }\n\n  // Obtener cliente\n  async getCustomer(customerId) {\n    return this.request(`customers/${customerId}`);\n  }\n\n  // === CONFIGURACIÓN DE TIENDA ===\n  \n  // Obtener configuración general de la tienda\n  async getStoreSettings() {\n    try {\n      return this.request('settings/general');\n    } catch (error) {\n      console.error('Error obteniendo configuración de tienda:', error);\n      return null;\n    }\n  }\n}\n\nexport default new WooCommerceAPI();"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}