{"ast":null,"code":"// src/components/Cart/CartSidebar.jsx\nimport React,{useContext,useState}from'react';import{X,Plus,Minus,ShoppingBag,Trash2}from'lucide-react';import{CartContext}from'../../context/CartContext';import CheckoutModal from'../Checkout/CheckoutModal';import'./CartSidebar.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const CartSidebar=_ref=>{let{isOpen,onClose}=_ref;const{cart,updateQuantity,removeFromCart,clearCart,getCartTotal}=useContext(CartContext);const[showCheckout,setShowCheckout]=useState(false);const formatPrice=price=>{return new Intl.NumberFormat('es-CL',{style:'currency',currency:'CLP'}).format(price);};const handleCheckout=()=>{setShowCheckout(true);};const handleCloseCheckout=()=>{setShowCheckout(false);onClose();// También cerrar el carrito\n};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:`cart-overlay ${isOpen?'active':''}`,onClick:onClose}),/*#__PURE__*/_jsxs(\"aside\",{className:`cart-sidebar ${isOpen?'open':''}`,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cart-header\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"cart-title\",children:\"Tu Pedido\"}),/*#__PURE__*/_jsx(\"button\",{className:\"cart-close\",onClick:onClose,\"aria-label\":\"Cerrar carrito\",children:/*#__PURE__*/_jsx(X,{size:24})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"cart-content\",children:cart.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"cart-empty\",children:[/*#__PURE__*/_jsx(ShoppingBag,{size:64}),/*#__PURE__*/_jsx(\"p\",{children:\"Tu carrito est\\xE1 vac\\xEDo\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:onClose,children:\"Ir al Men\\xFA\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"cart-items\",children:cart.map(item=>/*#__PURE__*/_jsxs(\"div\",{className:\"cart-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"cart-item-image\",children:item.image?/*#__PURE__*/_jsx(\"img\",{src:item.image,alt:item.name}):/*#__PURE__*/_jsx(\"div\",{className:\"cart-item-placeholder\",children:/*#__PURE__*/_jsx(ShoppingBag,{size:24})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-item-details\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"cart-item-name\",children:item.name}),/*#__PURE__*/_jsx(\"p\",{className:\"cart-item-price\",children:formatPrice(item.price)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-item-actions\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"quantity-controls\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"quantity-btn\",onClick:()=>updateQuantity(item.id,item.quantity-1),\"aria-label\":\"Disminuir cantidad\",children:/*#__PURE__*/_jsx(Minus,{size:16})}),/*#__PURE__*/_jsx(\"span\",{className:\"quantity-value\",children:item.quantity}),/*#__PURE__*/_jsx(\"button\",{className:\"quantity-btn\",onClick:()=>updateQuantity(item.id,item.quantity+1),\"aria-label\":\"Aumentar cantidad\",children:/*#__PURE__*/_jsx(Plus,{size:16})})]}),/*#__PURE__*/_jsx(\"button\",{className:\"remove-btn\",onClick:()=>removeFromCart(item.id),\"aria-label\":\"Eliminar producto\",children:/*#__PURE__*/_jsx(Trash2,{size:18})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"cart-item-total\",children:formatPrice(item.price*item.quantity)})]},item.id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-summary\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"clear-cart-btn\",onClick:clearCart,children:\"Vaciar Carrito\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-totals\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"total-row\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Subtotal\"}),/*#__PURE__*/_jsx(\"span\",{children:formatPrice(getCartTotal())})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"total-row\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Delivery\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Por calcular\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"total-row total-final\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Total\"}),/*#__PURE__*/_jsx(\"span\",{children:formatPrice(getCartTotal())})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary checkout-btn\",onClick:handleCheckout,children:\"Proceder al Pago\"})]})]})})]}),/*#__PURE__*/_jsx(CheckoutModal,{isOpen:showCheckout,onClose:handleCloseCheckout})]});};export default CartSidebar;","map":{"version":3,"names":["React","useContext","useState","X","Plus","Minus","ShoppingBag","Trash2","CartContext","CheckoutModal","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CartSidebar","_ref","isOpen","onClose","cart","updateQuantity","removeFromCart","clearCart","getCartTotal","showCheckout","setShowCheckout","formatPrice","price","Intl","NumberFormat","style","currency","format","handleCheckout","handleCloseCheckout","children","className","onClick","size","length","map","item","image","src","alt","name","id","quantity"],"sources":["/Users/franciscalabra/Desktop/pizzeria-escandalosos/src/components/Cart/CartSidebar.jsx"],"sourcesContent":["// src/components/Cart/CartSidebar.jsx\nimport React, { useContext, useState } from 'react';\nimport { X, Plus, Minus, ShoppingBag, Trash2 } from 'lucide-react';\nimport { CartContext } from '../../context/CartContext';\nimport CheckoutModal from '../Checkout/CheckoutModal';\nimport './CartSidebar.css';\n\nconst CartSidebar = ({ isOpen, onClose }) => {\n  const { cart, updateQuantity, removeFromCart, clearCart, getCartTotal } = useContext(CartContext);\n  const [showCheckout, setShowCheckout] = useState(false);\n\n  const formatPrice = (price) => {\n    return new Intl.NumberFormat('es-CL', {\n      style: 'currency',\n      currency: 'CLP'\n    }).format(price);\n  };\n\n  const handleCheckout = () => {\n    setShowCheckout(true);\n  };\n\n  const handleCloseCheckout = () => {\n    setShowCheckout(false);\n    onClose(); // También cerrar el carrito\n  };\n\n  return (\n    <>\n      <div className={`cart-overlay ${isOpen ? 'active' : ''}`} onClick={onClose} />\n      \n      <aside className={`cart-sidebar ${isOpen ? 'open' : ''}`}>\n        <div className=\"cart-header\">\n          <h2 className=\"cart-title\">Tu Pedido</h2>\n          <button className=\"cart-close\" onClick={onClose} aria-label=\"Cerrar carrito\">\n            <X size={24} />\n          </button>\n        </div>\n\n        <div className=\"cart-content\">\n          {cart.length === 0 ? (\n            <div className=\"cart-empty\">\n              <ShoppingBag size={64} />\n              <p>Tu carrito está vacío</p>\n              <button className=\"btn btn-primary\" onClick={onClose}>\n                Ir al Menú\n              </button>\n            </div>\n          ) : (\n            <>\n              <div className=\"cart-items\">\n                {cart.map(item => (\n                  <div key={item.id} className=\"cart-item\">\n                    <div className=\"cart-item-image\">\n                      {item.image ? (\n                        <img src={item.image} alt={item.name} />\n                      ) : (\n                        <div className=\"cart-item-placeholder\">\n                          <ShoppingBag size={24} />\n                        </div>\n                      )}\n                    </div>\n                    \n                    <div className=\"cart-item-details\">\n                      <h4 className=\"cart-item-name\">{item.name}</h4>\n                      <p className=\"cart-item-price\">{formatPrice(item.price)}</p>\n                    </div>\n                    \n                    <div className=\"cart-item-actions\">\n                      <div className=\"quantity-controls\">\n                        <button \n                          className=\"quantity-btn\"\n                          onClick={() => updateQuantity(item.id, item.quantity - 1)}\n                          aria-label=\"Disminuir cantidad\"\n                        >\n                          <Minus size={16} />\n                        </button>\n                        <span className=\"quantity-value\">{item.quantity}</span>\n                        <button \n                          className=\"quantity-btn\"\n                          onClick={() => updateQuantity(item.id, item.quantity + 1)}\n                          aria-label=\"Aumentar cantidad\"\n                        >\n                          <Plus size={16} />\n                        </button>\n                      </div>\n                      \n                      <button \n                        className=\"remove-btn\"\n                        onClick={() => removeFromCart(item.id)}\n                        aria-label=\"Eliminar producto\"\n                      >\n                        <Trash2 size={18} />\n                      </button>\n                    </div>\n                    \n                    <div className=\"cart-item-total\">\n                      {formatPrice(item.price * item.quantity)}\n                    </div>\n                  </div>\n                ))}\n              </div>\n\n              <div className=\"cart-summary\">\n                <button className=\"clear-cart-btn\" onClick={clearCart}>\n                  Vaciar Carrito\n                </button>\n                \n                <div className=\"cart-totals\">\n                  <div className=\"total-row\">\n                    <span>Subtotal</span>\n                    <span>{formatPrice(getCartTotal())}</span>\n                  </div>\n                  <div className=\"total-row\">\n                    <span>Delivery</span>\n                    <span>Por calcular</span>\n                  </div>\n                  <div className=\"total-row total-final\">\n                    <span>Total</span>\n                    <span>{formatPrice(getCartTotal())}</span>\n                  </div>\n                </div>\n                \n                <button className=\"btn btn-primary checkout-btn\" onClick={handleCheckout}>\n                  Proceder al Pago\n                </button>\n              </div>\n            </>\n          )}\n        </div>\n      </aside>\n\n      {/* Modal de Checkout */}\n      <CheckoutModal \n        isOpen={showCheckout} \n        onClose={handleCloseCheckout}\n      />\n    </>\n  );\n};\n\nexport default CartSidebar;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}