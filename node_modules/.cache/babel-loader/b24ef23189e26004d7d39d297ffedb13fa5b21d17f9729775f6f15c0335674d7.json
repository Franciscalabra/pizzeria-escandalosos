{"ast":null,"code":"// src/components/ProductModal/ProductModal.jsx\nimport React,{useState,useContext}from'react';import{X,Plus,Minus,ShoppingCart}from'lucide-react';import{CartContext}from'../../context/CartContext';import'./ProductModal.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProductModal=_ref=>{var _product$images2,_product$images2$;let{product,isOpen,onClose}=_ref;const{addToCart}=useContext(CartContext);const[quantity,setQuantity]=useState(1);const formatPrice=price=>{return new Intl.NumberFormat('es-CL',{style:'currency',currency:'CLP',minimumFractionDigits:0,maximumFractionDigits:0}).format(price);};const handleAddToCart=()=>{var _product$images,_product$images$;addToCart({id:product.id,name:product.name,price:parseFloat(product.price),image:((_product$images=product.images)===null||_product$images===void 0?void 0:(_product$images$=_product$images[0])===null||_product$images$===void 0?void 0:_product$images$.src)||null,quantity});onClose();};if(!isOpen)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"product-modal-overlay\",onClick:onClose,children:/*#__PURE__*/_jsxs(\"div\",{className:\"product-modal\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsx(\"button\",{className:\"product-modal-close\",onClick:onClose,children:/*#__PURE__*/_jsx(X,{size:24})}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-modal-content\",children:[(_product$images2=product.images)!==null&&_product$images2!==void 0&&(_product$images2$=_product$images2[0])!==null&&_product$images2$!==void 0&&_product$images2$.src?/*#__PURE__*/_jsx(\"img\",{src:product.images[0].src,alt:product.name,className:\"product-modal-image\"}):/*#__PURE__*/_jsx(\"div\",{className:\"product-modal-placeholder\",children:/*#__PURE__*/_jsx(ShoppingCart,{size:64})}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-modal-info\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"product-modal-title\",children:product.name}),product.description&&/*#__PURE__*/_jsx(\"div\",{className:\"product-modal-description\",dangerouslySetInnerHTML:{__html:product.description}}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-modal-price\",children:[product.on_sale&&product.regular_price&&/*#__PURE__*/_jsx(\"span\",{className:\"price-regular\",children:formatPrice(product.regular_price)}),/*#__PURE__*/_jsx(\"span\",{className:\"price-sale\",children:formatPrice(product.price)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-modal-actions\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"quantity-selector\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setQuantity(Math.max(1,quantity-1)),className:\"quantity-btn\",children:/*#__PURE__*/_jsx(Minus,{size:20})}),/*#__PURE__*/_jsx(\"span\",{className:\"quantity-value\",children:quantity}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setQuantity(quantity+1),className:\"quantity-btn\",children:/*#__PURE__*/_jsx(Plus,{size:20})})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary\",onClick:handleAddToCart,children:[/*#__PURE__*/_jsx(ShoppingCart,{size:20}),\"Agregar al carrito\"]})]})]})]})]})});};export default ProductModal;","map":{"version":3,"names":["React","useState","useContext","X","Plus","Minus","ShoppingCart","CartContext","jsx","_jsx","jsxs","_jsxs","ProductModal","_ref","_product$images2","_product$images2$","product","isOpen","onClose","addToCart","quantity","setQuantity","formatPrice","price","Intl","NumberFormat","style","currency","minimumFractionDigits","maximumFractionDigits","format","handleAddToCart","_product$images","_product$images$","id","name","parseFloat","image","images","src","className","onClick","children","e","stopPropagation","size","alt","description","dangerouslySetInnerHTML","__html","on_sale","regular_price","Math","max"],"sources":["/Users/franciscalabra/Desktop/pizzeria-escandalosos/src/components/ProductModal/ProductModal.jsx"],"sourcesContent":["// src/components/ProductModal/ProductModal.jsx\nimport React, { useState, useContext } from 'react';\nimport { X, Plus, Minus, ShoppingCart } from 'lucide-react';\nimport { CartContext } from '../../context/CartContext';\nimport './ProductModal.css';\n\nconst ProductModal = ({ product, isOpen, onClose }) => {\n  const { addToCart } = useContext(CartContext);\n  const [quantity, setQuantity] = useState(1);\n\n  const formatPrice = (price) => {\n    return new Intl.NumberFormat('es-CL', {\n      style: 'currency',\n      currency: 'CLP',\n      minimumFractionDigits: 0,\n      maximumFractionDigits: 0,\n    }).format(price);\n  };\n\n  const handleAddToCart = () => {\n    addToCart({\n      id: product.id,\n      name: product.name,\n      price: parseFloat(product.price),\n      image: product.images?.[0]?.src || null,\n      quantity\n    });\n    onClose();\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"product-modal-overlay\" onClick={onClose}>\n      <div className=\"product-modal\" onClick={(e) => e.stopPropagation()}>\n        <button className=\"product-modal-close\" onClick={onClose}>\n          <X size={24} />\n        </button>\n\n        <div className=\"product-modal-content\">\n          {product.images?.[0]?.src ? (\n            <img \n              src={product.images[0].src} \n              alt={product.name}\n              className=\"product-modal-image\"\n            />\n          ) : (\n            <div className=\"product-modal-placeholder\">\n              <ShoppingCart size={64} />\n            </div>\n          )}\n\n          <div className=\"product-modal-info\">\n            <h2 className=\"product-modal-title\">{product.name}</h2>\n            \n            {product.description && (\n              <div \n                className=\"product-modal-description\"\n                dangerouslySetInnerHTML={{ __html: product.description }}\n              />\n            )}\n\n            <div className=\"product-modal-price\">\n              {product.on_sale && product.regular_price && (\n                <span className=\"price-regular\">{formatPrice(product.regular_price)}</span>\n              )}\n              <span className=\"price-sale\">{formatPrice(product.price)}</span>\n            </div>\n\n            <div className=\"product-modal-actions\">\n              <div className=\"quantity-selector\">\n                <button \n                  onClick={() => setQuantity(Math.max(1, quantity - 1))}\n                  className=\"quantity-btn\"\n                >\n                  <Minus size={20} />\n                </button>\n                <span className=\"quantity-value\">{quantity}</span>\n                <button \n                  onClick={() => setQuantity(quantity + 1)}\n                  className=\"quantity-btn\"\n                >\n                  <Plus size={20} />\n                </button>\n              </div>\n\n              <button \n                className=\"btn btn-primary\"\n                onClick={handleAddToCart}\n              >\n                <ShoppingCart size={20} />\n                Agregar al carrito\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProductModal;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}