{"ast":null,"code":"// src/components/Checkout/CheckoutPage.jsx\nimport React,{useState,useEffect,useContext}from'react';import{useNavigate}from'react-router-dom';import{ArrowLeft,User,Phone,Mail,MapPin,Home,MessageSquare,DollarSign,CreditCard,Check,Truck,Store,Clock,AlertCircle,ChevronDown,ChevronUp,X}from'lucide-react';import{CartContext}from'../../context/CartContext';import woocommerceApi from'../../services/woocommerceApi';import'./CheckoutPage.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const CheckoutPage=()=>{const navigate=useNavigate();const{cart,getCartTotal,clearCart,getItemCount}=useContext(CartContext);// Función para formatear precio\nconst formatPrice=price=>{return new Intl.NumberFormat('es-CL',{style:'currency',currency:'CLP'}).format(price);};// Estados principales\nconst[currentStep,setCurrentStep]=useState(1);const[orderType,setOrderType]=useState('delivery');const[deliveryFee]=useState(2500);const[loading,setLoading]=useState(false);const[orderSuccess,setOrderSuccess]=useState(false);const[orderId,setOrderId]=useState(null);const[showOrderSummary,setShowOrderSummary]=useState(true);// Estados del formulario con localStorage\nconst[formData,setFormData]=useState(()=>{const savedData=localStorage.getItem('checkoutFormData');return savedData?JSON.parse(savedData):{customerName:'',email:'',phone:'',address:'',neighborhood:'',reference:'',notes:'',paymentMethod:'cash',cashAmount:''};});// Estados para validación y autocompletado\nconst[errors,setErrors]=useState({});const[touched,setTouched]=useState({});const[savedAddresses]=useState(()=>{const saved=localStorage.getItem('savedAddresses');return saved?JSON.parse(saved):[];});const[showAddressSuggestions,setShowAddressSuggestions]=useState(false);// Guardar progreso en localStorage\nuseEffect(()=>{if(!orderSuccess){localStorage.setItem('checkoutFormData',JSON.stringify(formData));}},[formData,orderSuccess]);// Limpiar localStorage al completar pedido\nuseEffect(()=>{if(orderSuccess){localStorage.removeItem('checkoutFormData');}},[orderSuccess]);// Redirigir si no hay items en el carrito\nuseEffect(()=>{if(cart.length===0&&!orderSuccess){navigate('/menu');}},[cart,navigate,orderSuccess]);// Validación en tiempo real\nconst validateField=(name,value)=>{let error='';switch(name){case'customerName':if(!value.trim())error='El nombre es requerido';else if(value.trim().length<3)error='El nombre debe tener al menos 3 caracteres';break;case'phone':const phoneRegex=/^(\\+56)?[9][0-9]{8}$/;if(!value)error='El teléfono es requerido';else if(!phoneRegex.test(value.replace(/\\s/g,'')))error='Formato inválido (ej: +56912345678)';break;case'email':const emailRegex=/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;if(!value)error='El email es requerido';else if(!emailRegex.test(value))error='Email inválido';break;case'address':if(orderType==='delivery'&&!value.trim())error='La dirección es requerida';break;case'neighborhood':if(orderType==='delivery'&&!value.trim())error='La comuna es requerida';break;case'cashAmount':if(formData.paymentMethod==='cash'&&value){const amount=parseFloat(value);const total=getCartTotal()+(orderType==='delivery'?deliveryFee:0);if(amount<total)error=`El monto debe ser mayor a ${formatPrice(total)}`;}break;default:break;}return error;};const handleInputChange=e=>{const{name,value}=e.target;setFormData(prev=>({...prev,[name]:value}));// Validación en tiempo real solo si el campo fue tocado\nif(touched[name]){const error=validateField(name,value);setErrors(prev=>({...prev,[name]:error}));}};const handleBlur=e=>{const{name,value}=e.target;setTouched(prev=>({...prev,[name]:true}));const error=validateField(name,value);setErrors(prev=>({...prev,[name]:error}));};const validateStep=step=>{let stepErrors={};switch(step){case 1:stepErrors.customerName=validateField('customerName',formData.customerName);stepErrors.phone=validateField('phone',formData.phone);stepErrors.email=validateField('email',formData.email);break;case 2:if(orderType==='delivery'){stepErrors.address=validateField('address',formData.address);stepErrors.neighborhood=validateField('neighborhood',formData.neighborhood);}break;case 3:if(formData.paymentMethod==='cash'&&formData.cashAmount){stepErrors.cashAmount=validateField('cashAmount',formData.cashAmount);}break;default:break;}// Filtrar errores vacíos\nconst filteredErrors=Object.entries(stepErrors).reduce((acc,_ref)=>{let[key,value]=_ref;if(value)acc[key]=value;return acc;},{});setErrors(filteredErrors);return Object.keys(filteredErrors).length===0;};const handleNextStep=()=>{if(validateStep(currentStep)){setCurrentStep(prev=>Math.min(prev+1,3));window.scrollTo(0,0);}else{// Marcar todos los campos del paso actual como tocados\nconst fieldsToTouch=currentStep===1?['customerName','phone','email']:currentStep===2&&orderType==='delivery'?['address','neighborhood']:[];const newTouched=fieldsToTouch.reduce((acc,field)=>{acc[field]=true;return acc;},{});setTouched(prev=>({...prev,...newTouched}));}};const handlePrevStep=()=>{setCurrentStep(prev=>Math.max(prev-1,1));window.scrollTo(0,0);};const selectSavedAddress=address=>{setFormData(prev=>({...prev,address:address.address,neighborhood:address.neighborhood,reference:address.reference||''}));setShowAddressSuggestions(false);};const handleSubmitOrder=async()=>{if(!validateStep(3))return;setLoading(true);try{const orderData={customerName:formData.customerName,email:formData.email,phone:formData.phone,orderType,items:cart,total:getCartTotal()+(orderType==='delivery'?deliveryFee:0),address:orderType==='delivery'?formData.address:null,neighborhood:orderType==='delivery'?formData.neighborhood:null,reference:orderType==='delivery'?formData.reference:null,paymentMethod:formData.paymentMethod,cashAmount:formData.paymentMethod==='cash'?formData.cashAmount:null,deliveryFee:orderType==='delivery'?deliveryFee:null,notes:formData.notes};const order=await woocommerceApi.createOrder(orderData);setOrderId(order.id);setOrderSuccess(true);clearCart();// Guardar dirección si es nueva\nif(orderType==='delivery'&&formData.address){const newAddress={address:formData.address,neighborhood:formData.neighborhood,reference:formData.reference};const existingAddresses=JSON.parse(localStorage.getItem('savedAddresses')||'[]');const isDuplicate=existingAddresses.some(addr=>addr.address===newAddress.address&&addr.neighborhood===newAddress.neighborhood);if(!isDuplicate){existingAddresses.push(newAddress);localStorage.setItem('savedAddresses',JSON.stringify(existingAddresses));}}}catch(error){console.error('Error al crear pedido:',error);alert('Error al procesar el pedido. Por favor intenta nuevamente.');}finally{setLoading(false);}};const subtotal=getCartTotal();const total=subtotal+(orderType==='delivery'?deliveryFee:0);if(orderSuccess){return/*#__PURE__*/_jsx(\"div\",{className:\"checkout-page\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"checkout-success-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"checkout-success-icon\",children:/*#__PURE__*/_jsx(Check,{size:48})}),/*#__PURE__*/_jsx(\"h1\",{className:\"checkout-success-title\",children:\"\\xA1Gracias por tu pedido!\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"checkout-success-order\",children:[\"Pedido #\",orderId]}),/*#__PURE__*/_jsx(\"p\",{className:\"checkout-success-message\",children:\"Tu pedido ha sido confirmado exitosamente\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"checkout-success-details\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"checkout-whatsapp-info\",children:[/*#__PURE__*/_jsx(MessageSquare,{size:24}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Te contactaremos por WhatsApp para:\"})}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:\"Confirmar tu pedido\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Informarte el tiempo de preparaci\\xF3n\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Coordinar la entrega o retiro\"})]})]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"checkout-email-note\",children:\"Tambi\\xE9n recibir\\xE1s un email con los detalles del pedido.\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:()=>navigate('/'),children:\"Volver al inicio\"})]})});}return/*#__PURE__*/_jsx(\"div\",{className:\"checkout-page\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"checkout-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"checkout-header\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"checkout-back-btn\",onClick:()=>currentStep>1?handlePrevStep():navigate('/cart'),\"aria-label\":\"Volver\",children:[/*#__PURE__*/_jsx(ArrowLeft,{size:20}),/*#__PURE__*/_jsx(\"span\",{children:\"Volver\"})]}),/*#__PURE__*/_jsx(\"h1\",{className:\"checkout-title\",children:\"Finalizar Pedido\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"checkout-progress\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"checkout-progress-bar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"checkout-progress-fill\",style:{width:`${currentStep/3*100}%`}})}),/*#__PURE__*/_jsx(\"div\",{className:\"checkout-steps\",children:['Datos',orderType==='delivery'?'Dirección':'Retiro','Pago'].map((step,index)=>/*#__PURE__*/_jsxs(\"div\",{className:`checkout-step ${currentStep>index+1?'completed':''} ${currentStep===index+1?'active':''}`,children:[/*#__PURE__*/_jsx(\"div\",{className:\"checkout-step-circle\",children:currentStep>index+1?/*#__PURE__*/_jsx(Check,{size:16}):index+1}),/*#__PURE__*/_jsx(\"span\",{className:\"checkout-step-label\",children:step})]},step))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"checkout-main\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"checkout-content\",children:[currentStep===1&&/*#__PURE__*/_jsxs(\"div\",{className:\"checkout-form-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"checkout-order-type\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"checkout-section-title\",children:\"\\xBFC\\xF3mo quieres recibir tu pedido?\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"checkout-order-options\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setOrderType('delivery'),className:`checkout-order-option ${orderType==='delivery'?'active':''}`,children:[/*#__PURE__*/_jsx(Truck,{size:32}),/*#__PURE__*/_jsx(\"h3\",{children:\"Delivery\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Recibe en tu domicilio\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"checkout-order-price\",children:[\"Desde \",formatPrice(deliveryFee)]})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setOrderType('pickup'),className:`checkout-order-option ${orderType==='pickup'?'active':''}`,children:[/*#__PURE__*/_jsx(Store,{size:32}),/*#__PURE__*/_jsx(\"h3\",{children:\"Retiro en Tienda\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Retira tu pedido\"}),/*#__PURE__*/_jsx(\"span\",{className:\"checkout-order-price checkout-order-free\",children:\"Sin costo\"})]})]})]}),/*#__PURE__*/_jsx(\"h2\",{className:\"checkout-section-title\",children:\"Informaci\\xF3n Personal\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"checkout-form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"checkout-form-label\",children:[/*#__PURE__*/_jsx(User,{size:18}),\"Nombre completo\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"customerName\",value:formData.customerName,onChange:handleInputChange,onBlur:handleBlur,className:`checkout-form-input ${errors.customerName&&touched.customerName?'error':''}`,placeholder:\"Juan P\\xE9rez\"}),errors.customerName&&touched.customerName&&/*#__PURE__*/_jsx(\"span\",{className:\"checkout-form-error\",children:errors.customerName})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"checkout-form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"checkout-form-label\",children:[/*#__PURE__*/_jsx(Phone,{size:18}),\"Tel\\xE9fono\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",name:\"phone\",value:formData.phone,onChange:handleInputChange,onBlur:handleBlur,className:`checkout-form-input ${errors.phone&&touched.phone?'error':''}`,placeholder:\"+56912345678\"}),errors.phone&&touched.phone&&/*#__PURE__*/_jsx(\"span\",{className:\"checkout-form-error\",children:errors.phone}),/*#__PURE__*/_jsx(\"span\",{className:\"checkout-form-hint\",children:\"Te contactaremos por WhatsApp\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"checkout-form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"checkout-form-label\",children:[/*#__PURE__*/_jsx(Mail,{size:18}),\"Email\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:formData.email,onChange:handleInputChange,onBlur:handleBlur,className:`checkout-form-input ${errors.email&&touched.email?'error':''}`,placeholder:\"juan@ejemplo.com\"}),errors.email&&touched.email&&/*#__PURE__*/_jsx(\"span\",{className:\"checkout-form-error\",children:errors.email})]})]}),currentStep===2&&/*#__PURE__*/_jsxs(\"div\",{className:\"checkout-form-section\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"checkout-section-title\",children:orderType==='delivery'?'Dirección de Entrega':'Información de Retiro'}),orderType==='delivery'?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"checkout-form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"checkout-form-label\",children:[/*#__PURE__*/_jsx(MapPin,{size:18}),\"Direcci\\xF3n completa\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"checkout-input-wrapper\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"address\",value:formData.address,onChange:handleInputChange,onBlur:handleBlur,onFocus:()=>setShowAddressSuggestions(true),className:`checkout-form-input ${errors.address&&touched.address?'error':''}`,placeholder:\"Av. Principal 123, Depto 456\"}),showAddressSuggestions&&savedAddresses.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"checkout-address-suggestions\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"suggestions-header\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Direcciones guardadas\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAddressSuggestions(false),children:/*#__PURE__*/_jsx(X,{size:16})})]}),savedAddresses.map((addr,index)=>/*#__PURE__*/_jsxs(\"button\",{className:\"suggestion-item\",onClick:()=>selectSavedAddress(addr),children:[/*#__PURE__*/_jsx(Home,{size:16}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:addr.address}),/*#__PURE__*/_jsx(\"span\",{children:addr.neighborhood})]})]},index))]})]}),errors.address&&touched.address&&/*#__PURE__*/_jsx(\"span\",{className:\"checkout-form-error\",children:errors.address})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"checkout-form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"checkout-form-label\",children:[/*#__PURE__*/_jsx(MapPin,{size:18}),\"Comuna\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"neighborhood\",value:formData.neighborhood,onChange:handleInputChange,onBlur:handleBlur,className:`checkout-form-input ${errors.neighborhood&&touched.neighborhood?'error':''}`,placeholder:\"Providencia\"}),errors.neighborhood&&touched.neighborhood&&/*#__PURE__*/_jsx(\"span\",{className:\"checkout-form-error\",children:errors.neighborhood})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"checkout-form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"checkout-form-label\",children:[/*#__PURE__*/_jsx(MessageSquare,{size:18}),\"Referencias (opcional)\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"reference\",value:formData.reference,onChange:handleInputChange,className:\"checkout-form-input\",placeholder:\"Entre calle A y B, casa azul\"}),/*#__PURE__*/_jsx(\"span\",{className:\"checkout-form-hint\",children:\"Ayuda al repartidor a encontrarte\"})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"checkout-pickup-info\",children:[/*#__PURE__*/_jsx(MessageSquare,{size:48,className:\"checkout-pickup-icon\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Coordinaci\\xF3n por WhatsApp\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"checkout-pickup-details\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Te contactaremos por WhatsApp para:\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:\"Confirmar tu pedido\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Informarte cuando est\\xE9 listo\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Coordinar el horario de retiro\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"checkout-pickup-note\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:16}),/*#__PURE__*/_jsx(\"p\",{children:\"Aseg\\xFArate de tener WhatsApp activo en el n\\xFAmero proporcionado\"})]})]})]}),currentStep===3&&/*#__PURE__*/_jsxs(\"div\",{className:\"checkout-form-section\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"checkout-section-title\",children:\"M\\xE9todo de Pago\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"checkout-payment-options\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"checkout-payment-option\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"paymentMethod\",value:\"cash\",checked:formData.paymentMethod==='cash',onChange:handleInputChange}),/*#__PURE__*/_jsxs(\"div\",{className:\"checkout-payment-content\",children:[/*#__PURE__*/_jsx(DollarSign,{size:24}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Efectivo\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Paga al recibir tu pedido\"})]})]})]}),formData.paymentMethod==='cash'&&/*#__PURE__*/_jsxs(\"div\",{className:\"checkout-cash-amount\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"checkout-form-label\",children:\"\\xBFCon cu\\xE1nto pagar\\xE1s? (opcional)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"cashAmount\",value:formData.cashAmount,onChange:handleInputChange,onBlur:handleBlur,className:`checkout-form-input ${errors.cashAmount?'error':''}`,placeholder:`Monto mayor a ${formatPrice(total)}`}),errors.cashAmount&&/*#__PURE__*/_jsx(\"span\",{className:\"checkout-form-error\",children:errors.cashAmount}),/*#__PURE__*/_jsx(\"span\",{className:\"checkout-form-hint\",children:\"Para preparar tu vuelto\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"checkout-payment-option disabled\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"paymentMethod\",value:\"card\",disabled:true}),/*#__PURE__*/_jsxs(\"div\",{className:\"checkout-payment-content\",children:[/*#__PURE__*/_jsx(CreditCard,{size:24}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Tarjeta\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Pr\\xF3ximamente disponible\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"checkout-form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"checkout-form-label\",children:[/*#__PURE__*/_jsx(MessageSquare,{size:18}),\"Notas adicionales (opcional)\"]}),/*#__PURE__*/_jsx(\"textarea\",{name:\"notes\",value:formData.notes,onChange:handleInputChange,className:\"checkout-form-input checkout-textarea\",placeholder:\"Alguna instrucci\\xF3n especial para tu pedido...\",rows:3})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"checkout-sidebar\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"checkout-sidebar-sticky\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"checkout-summary\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"checkout-summary-header\",onClick:()=>setShowOrderSummary(!showOrderSummary),children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Resumen del pedido (\",getItemCount(),\" items)\"]}),showOrderSummary?/*#__PURE__*/_jsx(ChevronUp,{size:20}):/*#__PURE__*/_jsx(ChevronDown,{size:20})]}),showOrderSummary&&/*#__PURE__*/_jsxs(\"div\",{className:\"checkout-summary-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"checkout-summary-items\",children:cart.map(item=>/*#__PURE__*/_jsxs(\"div\",{className:\"checkout-summary-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"checkout-summary-item-info\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"checkout-summary-item-name\",children:item.name}),/*#__PURE__*/_jsxs(\"span\",{className:\"checkout-summary-item-quantity\",children:[\"x\",item.quantity]})]}),/*#__PURE__*/_jsx(\"span\",{className:\"checkout-summary-item-price\",children:formatPrice(item.price*item.quantity)})]},item.id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"checkout-summary-totals\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"checkout-summary-row\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Subtotal\"}),/*#__PURE__*/_jsx(\"span\",{children:formatPrice(subtotal)})]}),orderType==='delivery'&&/*#__PURE__*/_jsxs(\"div\",{className:\"checkout-summary-row\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Env\\xEDo\"}),/*#__PURE__*/_jsx(\"span\",{children:formatPrice(deliveryFee)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"checkout-summary-row checkout-summary-total\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Total\"}),/*#__PURE__*/_jsx(\"span\",{children:formatPrice(total)})]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"checkout-actions\",children:currentStep<3?/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary checkout-continue-btn\",onClick:handleNextStep,children:\"Continuar\"}):/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary checkout-confirm-btn\",onClick:handleSubmitOrder,disabled:loading,children:loading?'Procesando...':'Confirmar Pedido'})}),/*#__PURE__*/_jsxs(\"div\",{className:\"checkout-whatsapp-reminder\",children:[/*#__PURE__*/_jsx(MessageSquare,{size:20}),/*#__PURE__*/_jsx(\"p\",{children:\"Te informaremos el tiempo de preparaci\\xF3n por WhatsApp\"})]})]})})]})]})});};export default CheckoutPage;","map":{"version":3,"names":["React","useState","useEffect","useContext","useNavigate","ArrowLeft","User","Phone","Mail","MapPin","Home","MessageSquare","DollarSign","CreditCard","Check","Truck","Store","Clock","AlertCircle","ChevronDown","ChevronUp","X","CartContext","woocommerceApi","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CheckoutPage","navigate","cart","getCartTotal","clearCart","getItemCount","formatPrice","price","Intl","NumberFormat","style","currency","format","currentStep","setCurrentStep","orderType","setOrderType","deliveryFee","loading","setLoading","orderSuccess","setOrderSuccess","orderId","setOrderId","showOrderSummary","setShowOrderSummary","formData","setFormData","savedData","localStorage","getItem","JSON","parse","customerName","email","phone","address","neighborhood","reference","notes","paymentMethod","cashAmount","errors","setErrors","touched","setTouched","savedAddresses","saved","showAddressSuggestions","setShowAddressSuggestions","setItem","stringify","removeItem","length","validateField","name","value","error","trim","phoneRegex","test","replace","emailRegex","amount","parseFloat","total","handleInputChange","e","target","prev","handleBlur","validateStep","step","stepErrors","filteredErrors","Object","entries","reduce","acc","_ref","key","keys","handleNextStep","Math","min","window","scrollTo","fieldsToTouch","newTouched","field","handlePrevStep","max","selectSavedAddress","handleSubmitOrder","orderData","items","order","createOrder","id","newAddress","existingAddresses","isDuplicate","some","addr","push","console","alert","subtotal","className","children","size","onClick","width","map","index","type","onChange","onBlur","placeholder","onFocus","checked","disabled","rows","item","quantity"],"sources":["/Users/franciscalabra/Desktop/pizzeria-escandalosos/src/components/Checkout/CheckoutPage.jsx"],"sourcesContent":["// src/components/Checkout/CheckoutPage.jsx\nimport React, { useState, useEffect, useContext } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { \n  ArrowLeft, \n  User, \n  Phone, \n  Mail, \n  MapPin, \n  Home,\n  MessageSquare,\n  DollarSign,\n  CreditCard,\n  Check,\n  Truck,\n  Store,\n  Clock,\n  AlertCircle,\n  ChevronDown,\n  ChevronUp,\n  X\n} from 'lucide-react';\nimport { CartContext } from '../../context/CartContext';\nimport woocommerceApi from '../../services/woocommerceApi';\nimport './CheckoutPage.css';\n\nconst CheckoutPage = () => {\n  const navigate = useNavigate();\n  const { cart, getCartTotal, clearCart, getItemCount } = useContext(CartContext);\n  \n  // Función para formatear precio\n  const formatPrice = (price) => {\n    return new Intl.NumberFormat('es-CL', {\n      style: 'currency',\n      currency: 'CLP'\n    }).format(price);\n  };\n  \n  // Estados principales\n  const [currentStep, setCurrentStep] = useState(1);\n  const [orderType, setOrderType] = useState('delivery');\n  const [deliveryFee] = useState(2500);\n  const [loading, setLoading] = useState(false);\n  const [orderSuccess, setOrderSuccess] = useState(false);\n  const [orderId, setOrderId] = useState(null);\n  const [showOrderSummary, setShowOrderSummary] = useState(true);\n  \n  // Estados del formulario con localStorage\n  const [formData, setFormData] = useState(() => {\n    const savedData = localStorage.getItem('checkoutFormData');\n    return savedData ? JSON.parse(savedData) : {\n      customerName: '',\n      email: '',\n      phone: '',\n      address: '',\n      neighborhood: '',\n      reference: '',\n      notes: '',\n      paymentMethod: 'cash',\n      cashAmount: ''\n    };\n  });\n  \n  // Estados para validación y autocompletado\n  const [errors, setErrors] = useState({});\n  const [touched, setTouched] = useState({});\n  const [savedAddresses] = useState(() => {\n    const saved = localStorage.getItem('savedAddresses');\n    return saved ? JSON.parse(saved) : [];\n  });\n  const [showAddressSuggestions, setShowAddressSuggestions] = useState(false);\n\n  // Guardar progreso en localStorage\n  useEffect(() => {\n    if (!orderSuccess) {\n      localStorage.setItem('checkoutFormData', JSON.stringify(formData));\n    }\n  }, [formData, orderSuccess]);\n\n  // Limpiar localStorage al completar pedido\n  useEffect(() => {\n    if (orderSuccess) {\n      localStorage.removeItem('checkoutFormData');\n    }\n  }, [orderSuccess]);\n\n  // Redirigir si no hay items en el carrito\n  useEffect(() => {\n    if (cart.length === 0 && !orderSuccess) {\n      navigate('/menu');\n    }\n  }, [cart, navigate, orderSuccess]);\n\n  // Validación en tiempo real\n  const validateField = (name, value) => {\n    let error = '';\n    \n    switch (name) {\n      case 'customerName':\n        if (!value.trim()) error = 'El nombre es requerido';\n        else if (value.trim().length < 3) error = 'El nombre debe tener al menos 3 caracteres';\n        break;\n      \n      case 'phone':\n        const phoneRegex = /^(\\+56)?[9][0-9]{8}$/;\n        if (!value) error = 'El teléfono es requerido';\n        else if (!phoneRegex.test(value.replace(/\\s/g, ''))) error = 'Formato inválido (ej: +56912345678)';\n        break;\n      \n      case 'email':\n        const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n        if (!value) error = 'El email es requerido';\n        else if (!emailRegex.test(value)) error = 'Email inválido';\n        break;\n      \n      case 'address':\n        if (orderType === 'delivery' && !value.trim()) error = 'La dirección es requerida';\n        break;\n      \n      case 'neighborhood':\n        if (orderType === 'delivery' && !value.trim()) error = 'La comuna es requerida';\n        break;\n      \n      case 'cashAmount':\n        if (formData.paymentMethod === 'cash' && value) {\n          const amount = parseFloat(value);\n          const total = getCartTotal() + (orderType === 'delivery' ? deliveryFee : 0);\n          if (amount < total) error = `El monto debe ser mayor a ${formatPrice(total)}`;\n        }\n        break;\n      \n      default:\n        break;\n    }\n    \n    return error;\n  };\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({ ...prev, [name]: value }));\n    \n    // Validación en tiempo real solo si el campo fue tocado\n    if (touched[name]) {\n      const error = validateField(name, value);\n      setErrors(prev => ({ ...prev, [name]: error }));\n    }\n  };\n\n  const handleBlur = (e) => {\n    const { name, value } = e.target;\n    setTouched(prev => ({ ...prev, [name]: true }));\n    const error = validateField(name, value);\n    setErrors(prev => ({ ...prev, [name]: error }));\n  };\n\n  const validateStep = (step) => {\n    let stepErrors = {};\n    \n    switch (step) {\n      case 1:\n        stepErrors.customerName = validateField('customerName', formData.customerName);\n        stepErrors.phone = validateField('phone', formData.phone);\n        stepErrors.email = validateField('email', formData.email);\n        break;\n      \n      case 2:\n        if (orderType === 'delivery') {\n          stepErrors.address = validateField('address', formData.address);\n          stepErrors.neighborhood = validateField('neighborhood', formData.neighborhood);\n        }\n        break;\n      \n      case 3:\n        if (formData.paymentMethod === 'cash' && formData.cashAmount) {\n          stepErrors.cashAmount = validateField('cashAmount', formData.cashAmount);\n        }\n        break;\n      \n      default:\n        break;\n    }\n    \n    // Filtrar errores vacíos\n    const filteredErrors = Object.entries(stepErrors).reduce((acc, [key, value]) => {\n      if (value) acc[key] = value;\n      return acc;\n    }, {});\n    \n    setErrors(filteredErrors);\n    return Object.keys(filteredErrors).length === 0;\n  };\n\n  const handleNextStep = () => {\n    if (validateStep(currentStep)) {\n      setCurrentStep(prev => Math.min(prev + 1, 3));\n      window.scrollTo(0, 0);\n    } else {\n      // Marcar todos los campos del paso actual como tocados\n      const fieldsToTouch = currentStep === 1 \n        ? ['customerName', 'phone', 'email']\n        : currentStep === 2 && orderType === 'delivery'\n        ? ['address', 'neighborhood']\n        : [];\n      \n      const newTouched = fieldsToTouch.reduce((acc, field) => {\n        acc[field] = true;\n        return acc;\n      }, {});\n      \n      setTouched(prev => ({ ...prev, ...newTouched }));\n    }\n  };\n\n  const handlePrevStep = () => {\n    setCurrentStep(prev => Math.max(prev - 1, 1));\n    window.scrollTo(0, 0);\n  };\n\n  const selectSavedAddress = (address) => {\n    setFormData(prev => ({\n      ...prev,\n      address: address.address,\n      neighborhood: address.neighborhood,\n      reference: address.reference || ''\n    }));\n    setShowAddressSuggestions(false);\n  };\n\n  const handleSubmitOrder = async () => {\n    if (!validateStep(3)) return;\n    \n    setLoading(true);\n    \n    try {\n      const orderData = {\n        customerName: formData.customerName,\n        email: formData.email,\n        phone: formData.phone,\n        orderType,\n        items: cart,\n        total: getCartTotal() + (orderType === 'delivery' ? deliveryFee : 0),\n        address: orderType === 'delivery' ? formData.address : null,\n        neighborhood: orderType === 'delivery' ? formData.neighborhood : null,\n        reference: orderType === 'delivery' ? formData.reference : null,\n        paymentMethod: formData.paymentMethod,\n        cashAmount: formData.paymentMethod === 'cash' ? formData.cashAmount : null,\n        deliveryFee: orderType === 'delivery' ? deliveryFee : null,\n        notes: formData.notes\n      };\n\n      const order = await woocommerceApi.createOrder(orderData);\n      \n      setOrderId(order.id);\n      setOrderSuccess(true);\n      clearCart();\n      \n      // Guardar dirección si es nueva\n      if (orderType === 'delivery' && formData.address) {\n        const newAddress = {\n          address: formData.address,\n          neighborhood: formData.neighborhood,\n          reference: formData.reference\n        };\n        \n        const existingAddresses = JSON.parse(localStorage.getItem('savedAddresses') || '[]');\n        const isDuplicate = existingAddresses.some(addr => \n          addr.address === newAddress.address && \n          addr.neighborhood === newAddress.neighborhood\n        );\n        \n        if (!isDuplicate) {\n          existingAddresses.push(newAddress);\n          localStorage.setItem('savedAddresses', JSON.stringify(existingAddresses));\n        }\n      }\n      \n    } catch (error) {\n      console.error('Error al crear pedido:', error);\n      alert('Error al procesar el pedido. Por favor intenta nuevamente.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const subtotal = getCartTotal();\n  const total = subtotal + (orderType === 'delivery' ? deliveryFee : 0);\n\n  if (orderSuccess) {\n    return (\n      <div className=\"checkout-page\">\n        <div className=\"checkout-success-container\">\n          <div className=\"checkout-success-icon\">\n            <Check size={48} />\n          </div>\n          <h1 className=\"checkout-success-title\">¡Gracias por tu pedido!</h1>\n          <p className=\"checkout-success-order\">Pedido #{orderId}</p>\n          <p className=\"checkout-success-message\">\n            Tu pedido ha sido confirmado exitosamente\n          </p>\n          <div className=\"checkout-success-details\">\n            <div className=\"checkout-whatsapp-info\">\n              <MessageSquare size={24} />\n              <div>\n                <p><strong>Te contactaremos por WhatsApp para:</strong></p>\n                <ul>\n                  <li>Confirmar tu pedido</li>\n                  <li>Informarte el tiempo de preparación</li>\n                  <li>Coordinar la entrega o retiro</li>\n                </ul>\n              </div>\n            </div>\n            <p className=\"checkout-email-note\">También recibirás un email con los detalles del pedido.</p>\n          </div>\n          <button \n            className=\"btn btn-primary\"\n            onClick={() => navigate('/')}\n          >\n            Volver al inicio\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"checkout-page\">\n      <div className=\"checkout-container\">\n        {/* Header */}\n        <div className=\"checkout-header\">\n          <button \n            className=\"checkout-back-btn\"\n            onClick={() => currentStep > 1 ? handlePrevStep() : navigate('/cart')}\n            aria-label=\"Volver\"\n          >\n            <ArrowLeft size={20} />\n            <span>Volver</span>\n          </button>\n          <h1 className=\"checkout-title\">Finalizar Pedido</h1>\n        </div>\n\n        {/* Progress Bar */}\n        <div className=\"checkout-progress\">\n          <div className=\"checkout-progress-bar\">\n            <div \n              className=\"checkout-progress-fill\"\n              style={{ width: `${(currentStep / 3) * 100}%` }}\n            />\n          </div>\n          <div className=\"checkout-steps\">\n            {['Datos', orderType === 'delivery' ? 'Dirección' : 'Retiro', 'Pago'].map((step, index) => (\n              <div \n                key={step}\n                className={`checkout-step ${currentStep > index + 1 ? 'completed' : ''} ${currentStep === index + 1 ? 'active' : ''}`}\n              >\n                <div className=\"checkout-step-circle\">\n                  {currentStep > index + 1 ? <Check size={16} /> : index + 1}\n                </div>\n                <span className=\"checkout-step-label\">{step}</span>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        <div className=\"checkout-main\">\n          {/* Main Content */}\n          <div className=\"checkout-content\">\n            {/* Step 1: Información Personal */}\n            {currentStep === 1 && (\n              <div className=\"checkout-form-section\">\n                {/* Tipo de pedido */}\n                <div className=\"checkout-order-type\">\n                  <h2 className=\"checkout-section-title\">¿Cómo quieres recibir tu pedido?</h2>\n                  <div className=\"checkout-order-options\">\n                    <button\n                      onClick={() => setOrderType('delivery')}\n                      className={`checkout-order-option ${orderType === 'delivery' ? 'active' : ''}`}\n                    >\n                      <Truck size={32} />\n                      <h3>Delivery</h3>\n                      <p>Recibe en tu domicilio</p>\n                      <span className=\"checkout-order-price\">Desde {formatPrice(deliveryFee)}</span>\n                    </button>\n\n                    <button\n                      onClick={() => setOrderType('pickup')}\n                      className={`checkout-order-option ${orderType === 'pickup' ? 'active' : ''}`}\n                    >\n                      <Store size={32} />\n                      <h3>Retiro en Tienda</h3>\n                      <p>Retira tu pedido</p>\n                      <span className=\"checkout-order-price checkout-order-free\">Sin costo</span>\n                    </button>\n                  </div>\n                </div>\n\n                <h2 className=\"checkout-section-title\">Información Personal</h2>\n                \n                <div className=\"checkout-form-group\">\n                  <label className=\"checkout-form-label\">\n                    <User size={18} />\n                    Nombre completo\n                  </label>\n                  <input\n                    type=\"text\"\n                    name=\"customerName\"\n                    value={formData.customerName}\n                    onChange={handleInputChange}\n                    onBlur={handleBlur}\n                    className={`checkout-form-input ${errors.customerName && touched.customerName ? 'error' : ''}`}\n                    placeholder=\"Juan Pérez\"\n                  />\n                  {errors.customerName && touched.customerName && (\n                    <span className=\"checkout-form-error\">{errors.customerName}</span>\n                  )}\n                </div>\n\n                <div className=\"checkout-form-group\">\n                  <label className=\"checkout-form-label\">\n                    <Phone size={18} />\n                    Teléfono\n                  </label>\n                  <input\n                    type=\"tel\"\n                    name=\"phone\"\n                    value={formData.phone}\n                    onChange={handleInputChange}\n                    onBlur={handleBlur}\n                    className={`checkout-form-input ${errors.phone && touched.phone ? 'error' : ''}`}\n                    placeholder=\"+56912345678\"\n                  />\n                  {errors.phone && touched.phone && (\n                    <span className=\"checkout-form-error\">{errors.phone}</span>\n                  )}\n                  <span className=\"checkout-form-hint\">Te contactaremos por WhatsApp</span>\n                </div>\n\n                <div className=\"checkout-form-group\">\n                  <label className=\"checkout-form-label\">\n                    <Mail size={18} />\n                    Email\n                  </label>\n                  <input\n                    type=\"email\"\n                    name=\"email\"\n                    value={formData.email}\n                    onChange={handleInputChange}\n                    onBlur={handleBlur}\n                    className={`checkout-form-input ${errors.email && touched.email ? 'error' : ''}`}\n                    placeholder=\"juan@ejemplo.com\"\n                  />\n                  {errors.email && touched.email && (\n                    <span className=\"checkout-form-error\">{errors.email}</span>\n                  )}\n                </div>\n              </div>\n            )}\n\n            {/* Step 2: Dirección o Información de Retiro */}\n            {currentStep === 2 && (\n              <div className=\"checkout-form-section\">\n                <h2 className=\"checkout-section-title\">\n                  {orderType === 'delivery' ? 'Dirección de Entrega' : 'Información de Retiro'}\n                </h2>\n                \n                {orderType === 'delivery' ? (\n                  <>\n                    <div className=\"checkout-form-group\">\n                      <label className=\"checkout-form-label\">\n                        <MapPin size={18} />\n                        Dirección completa\n                      </label>\n                      <div className=\"checkout-input-wrapper\">\n                        <input\n                          type=\"text\"\n                          name=\"address\"\n                          value={formData.address}\n                          onChange={handleInputChange}\n                          onBlur={handleBlur}\n                          onFocus={() => setShowAddressSuggestions(true)}\n                          className={`checkout-form-input ${errors.address && touched.address ? 'error' : ''}`}\n                          placeholder=\"Av. Principal 123, Depto 456\"\n                        />\n                        {showAddressSuggestions && savedAddresses.length > 0 && (\n                          <div className=\"checkout-address-suggestions\">\n                            <div className=\"suggestions-header\">\n                              <span>Direcciones guardadas</span>\n                              <button onClick={() => setShowAddressSuggestions(false)}>\n                                <X size={16} />\n                              </button>\n                            </div>\n                            {savedAddresses.map((addr, index) => (\n                              <button\n                                key={index}\n                                className=\"suggestion-item\"\n                                onClick={() => selectSavedAddress(addr)}\n                              >\n                                <Home size={16} />\n                                <div>\n                                  <p>{addr.address}</p>\n                                  <span>{addr.neighborhood}</span>\n                                </div>\n                              </button>\n                            ))}\n                          </div>\n                        )}\n                      </div>\n                      {errors.address && touched.address && (\n                        <span className=\"checkout-form-error\">{errors.address}</span>\n                      )}\n                    </div>\n\n                    <div className=\"checkout-form-group\">\n                      <label className=\"checkout-form-label\">\n                        <MapPin size={18} />\n                        Comuna\n                      </label>\n                      <input\n                        type=\"text\"\n                        name=\"neighborhood\"\n                        value={formData.neighborhood}\n                        onChange={handleInputChange}\n                        onBlur={handleBlur}\n                        className={`checkout-form-input ${errors.neighborhood && touched.neighborhood ? 'error' : ''}`}\n                        placeholder=\"Providencia\"\n                      />\n                      {errors.neighborhood && touched.neighborhood && (\n                        <span className=\"checkout-form-error\">{errors.neighborhood}</span>\n                      )}\n                    </div>\n\n                    <div className=\"checkout-form-group\">\n                      <label className=\"checkout-form-label\">\n                        <MessageSquare size={18} />\n                        Referencias (opcional)\n                      </label>\n                      <input\n                        type=\"text\"\n                        name=\"reference\"\n                        value={formData.reference}\n                        onChange={handleInputChange}\n                        className=\"checkout-form-input\"\n                        placeholder=\"Entre calle A y B, casa azul\"\n                      />\n                      <span className=\"checkout-form-hint\">Ayuda al repartidor a encontrarte</span>\n                    </div>\n                  </>\n                ) : (\n                  <div className=\"checkout-pickup-info\">\n                    <MessageSquare size={48} className=\"checkout-pickup-icon\" />\n                    <h3>Coordinación por WhatsApp</h3>\n                    <div className=\"checkout-pickup-details\">\n                      <p>Te contactaremos por WhatsApp para:</p>\n                      <ul>\n                        <li>Confirmar tu pedido</li>\n                        <li>Informarte cuando esté listo</li>\n                        <li>Coordinar el horario de retiro</li>\n                      </ul>\n                    </div>\n                    <div className=\"checkout-pickup-note\">\n                      <AlertCircle size={16} />\n                      <p>Asegúrate de tener WhatsApp activo en el número proporcionado</p>\n                    </div>\n                  </div>\n                )}\n              </div>\n            )}\n\n            {/* Step 3: Pago */}\n            {currentStep === 3 && (\n              <div className=\"checkout-form-section\">\n                <h2 className=\"checkout-section-title\">Método de Pago</h2>\n                \n                <div className=\"checkout-payment-options\">\n                  <label className=\"checkout-payment-option\">\n                    <input\n                      type=\"radio\"\n                      name=\"paymentMethod\"\n                      value=\"cash\"\n                      checked={formData.paymentMethod === 'cash'}\n                      onChange={handleInputChange}\n                    />\n                    <div className=\"checkout-payment-content\">\n                      <DollarSign size={24} />\n                      <div>\n                        <h3>Efectivo</h3>\n                        <p>Paga al recibir tu pedido</p>\n                      </div>\n                    </div>\n                  </label>\n\n                  {formData.paymentMethod === 'cash' && (\n                    <div className=\"checkout-cash-amount\">\n                      <label className=\"checkout-form-label\">\n                        ¿Con cuánto pagarás? (opcional)\n                      </label>\n                      <input\n                        type=\"number\"\n                        name=\"cashAmount\"\n                        value={formData.cashAmount}\n                        onChange={handleInputChange}\n                        onBlur={handleBlur}\n                        className={`checkout-form-input ${errors.cashAmount ? 'error' : ''}`}\n                        placeholder={`Monto mayor a ${formatPrice(total)}`}\n                      />\n                      {errors.cashAmount && (\n                        <span className=\"checkout-form-error\">{errors.cashAmount}</span>\n                      )}\n                      <span className=\"checkout-form-hint\">Para preparar tu vuelto</span>\n                    </div>\n                  )}\n\n                  <label className=\"checkout-payment-option disabled\">\n                    <input\n                      type=\"radio\"\n                      name=\"paymentMethod\"\n                      value=\"card\"\n                      disabled\n                    />\n                    <div className=\"checkout-payment-content\">\n                      <CreditCard size={24} />\n                      <div>\n                        <h3>Tarjeta</h3>\n                        <p>Próximamente disponible</p>\n                      </div>\n                    </div>\n                  </label>\n                </div>\n\n                <div className=\"checkout-form-group\">\n                  <label className=\"checkout-form-label\">\n                    <MessageSquare size={18} />\n                    Notas adicionales (opcional)\n                  </label>\n                  <textarea\n                    name=\"notes\"\n                    value={formData.notes}\n                    onChange={handleInputChange}\n                    className=\"checkout-form-input checkout-textarea\"\n                    placeholder=\"Alguna instrucción especial para tu pedido...\"\n                    rows={3}\n                  />\n                </div>\n              </div>\n            )}\n          </div>\n\n          {/* Sidebar */}\n          <div className=\"checkout-sidebar\">\n            <div className=\"checkout-sidebar-sticky\">\n              <div className=\"checkout-summary\">\n                <button \n                  className=\"checkout-summary-header\"\n                  onClick={() => setShowOrderSummary(!showOrderSummary)}\n                >\n                  <h3>Resumen del pedido ({getItemCount()} items)</h3>\n                  {showOrderSummary ? <ChevronUp size={20} /> : <ChevronDown size={20} />}\n                </button>\n\n                {showOrderSummary && (\n                  <div className=\"checkout-summary-content\">\n                    <div className=\"checkout-summary-items\">\n                      {cart.map(item => (\n                        <div key={item.id} className=\"checkout-summary-item\">\n                          <div className=\"checkout-summary-item-info\">\n                            <span className=\"checkout-summary-item-name\">{item.name}</span>\n                            <span className=\"checkout-summary-item-quantity\">x{item.quantity}</span>\n                          </div>\n                          <span className=\"checkout-summary-item-price\">\n                            {formatPrice(item.price * item.quantity)}\n                          </span>\n                        </div>\n                      ))}\n                    </div>\n\n                    <div className=\"checkout-summary-totals\">\n                      <div className=\"checkout-summary-row\">\n                        <span>Subtotal</span>\n                        <span>{formatPrice(subtotal)}</span>\n                      </div>\n                      {orderType === 'delivery' && (\n                        <div className=\"checkout-summary-row\">\n                          <span>Envío</span>\n                          <span>{formatPrice(deliveryFee)}</span>\n                        </div>\n                      )}\n                      <div className=\"checkout-summary-row checkout-summary-total\">\n                        <span>Total</span>\n                        <span>{formatPrice(total)}</span>\n                      </div>\n                    </div>\n                  </div>\n                )}\n              </div>\n\n              <div className=\"checkout-actions\">\n                {currentStep < 3 ? (\n                  <button\n                    className=\"btn btn-primary checkout-continue-btn\"\n                    onClick={handleNextStep}\n                  >\n                    Continuar\n                  </button>\n                ) : (\n                  <button\n                    className=\"btn btn-primary checkout-confirm-btn\"\n                    onClick={handleSubmitOrder}\n                    disabled={loading}\n                  >\n                    {loading ? 'Procesando...' : 'Confirmar Pedido'}\n                  </button>\n                )}\n              </div>\n\n              <div className=\"checkout-whatsapp-reminder\">\n                <MessageSquare size={20} />\n                <p>Te informaremos el tiempo de preparación por WhatsApp</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CheckoutPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}